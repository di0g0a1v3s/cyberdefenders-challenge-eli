bnc.prototype.LP=X(1533,function(){if(!this.isDisposed()){var a=this.Da(VK.g3),b=Ze("Estimating\u2026");gf(a,b);this.xb()&&(Q(a,!0),a=this.Da(VK.NQ),Q(a,!1))}});dnc.prototype.LP=X(1532,function(){this.C["refresh-query"].LP()});lnc.prototype.LP=X(1531,function(){this.C.LP()});function Gmh(){return yw.getInstance().C.newDatasourceFromOnboarding}function Hmh(){return!!yw.getInstance().C.showBigQueryProjectSelectionOnStart}
function Imh(a){var b=[];a.C.forEach(function(c,d){jh(c,2)||b.push(d)});return b}function Jmh(a){C.call(this,a)}v(Jmh,C);Jmh.prototype.hasError=function(){return this.message.hasError()};Jmh.prototype.getError=function(){return this.message.getError()};function Kmh(a){this.hb=ch(a,-1,0)}v(Kmh,fh);Kmh.prototype.toBuilder=function(){return new Jmh(this)};Kmh.prototype.hasError=function(){return jh(this,1)};Kmh.prototype.getError=function(){return rh(this,1,0)};function Lmh(a){C.call(this,a)}v(Lmh,C);
Lmh.prototype.getStatus=function(){return this.message.getStatus()};Lmh.prototype.Ge=function(){return this.message.Ge()};Lmh.prototype.getNumberOfColumns=function(){return this.message.getNumberOfColumns()};Lmh.prototype.getNumberOfRows=function(){return this.message.getNumberOfRows()};function Mmh(a){this.hb=ch(a,-1,0)}v(Mmh,fh);p=Mmh.prototype;p.toBuilder=function(){return new Lmh(this)};p.getStatus=function(){return rh(this,6,0)};p.Ge=function(){return rh(this,7,0)};
p.getNumberOfColumns=function(){return qh(this,8)};p.getNumberOfRows=function(){return qh(this,9)};function Nmh(a){C.call(this,a)}v(Nmh,C);Nmh.prototype.getStatus=function(){return this.message.getStatus()};function Omh(a){this.hb=ch(a,-1,0)}v(Omh,fh);Omh.prototype.toBuilder=function(){return new Nmh(this)};Omh.prototype.getStatus=function(){return rh(this,1,0)};function Pmh(a){C.call(this,a)}v(Pmh,C);p=Pmh.prototype;p.nf=function(){return this.message.nf()};p.Rl=function(){return this.message.Rl()};
p.Qf=function(){return this.message.Qf()};p.yq=function(){return this.message.yq()};p.getDataSourceId=function(){return this.message.getDataSourceId()};function Qmh(a){this.hb=ch(a,-1,0)}v(Qmh,fh);p=Qmh.prototype;p.toBuilder=function(){return new Pmh(this)};p.nf=function(){return this.sb(1,Eh)};p.Rl=function(){return nh(this,2)};p.Qf=function(){return ph(this,3)};p.yq=function(){return jh(this,5)};p.getDataSourceId=function(){return nh(this,5)};
function Rmh(a){var b=void 0===b?hh(Qmh):b;b=new Pmh(b);return Dh(b,1,a)}function Smh(a){C.call(this,a)}v(Smh,C);function Tmh(a){this.hb=ch(a,-1,0)}v(Tmh,fh);Tmh.prototype.toBuilder=function(){return new Smh(this)};function Umh(a){C.call(this,a)}v(Umh,C);function Vmh(a){this.hb=ch(a,-1,0)}v(Vmh,fh);Vmh.prototype.toBuilder=function(){return new Umh(this)};function Wmh(a,b){return Bh(a,1,b)}function Xmh(a){C.call(this,a)}v(Xmh,C);Xmh.prototype.xT=function(a){return this.message.xT(a)};
function Ymh(a){this.hb=ch(a,-1,0)}v(Ymh,fh);Ymh.prototype.toBuilder=function(){return new Xmh(this)};Ymh.prototype.xT=function(a){return th(this,2,a,Qmh)};function Zmh(a){C.call(this,a)}v(Zmh,C);Zmh.prototype.xT=function(a){return this.message.xT(a)};function $mh(a){this.hb=ch(a,-1,0)}v($mh,fh);$mh.prototype.toBuilder=function(){return new Zmh(this)};$mh.prototype.xT=function(a){return th(this,1,a,Qmh)};function anh(a){C.call(this,a)}v(anh,C);anh.prototype.getStatus=function(){return this.message.getStatus()};
function bnh(a){this.hb=ch(a,-1,0)}v(bnh,fh);bnh.prototype.toBuilder=function(){return new anh(this)};bnh.prototype.getStatus=function(){return rh(this,1,0)};function cnh(a,b){return new Qm(function(c,d){ap(wk(xk(vk(bp(uk(a.C.Pe("/answers/tablemetadata"),"did",b),"POST"),2),function(e){e=gh(Kmh,JSON.stringify(e.we()));c(e)}),function(){d()})).Se()})}function dnh(a,b){return new Qm(function(c,d){mH(a,"/dbx/createDelegation",[],b.pb(),function(e){c(gh(Omh,JSON.stringify(e.we())))},d)})}
function enh(a,b){return new Qm(function(c,d){mH(a,"/dbx/updateDelegation",[],b.pb(),function(e){c(gh(bnh,JSON.stringify(e.we())))},d)})}function fnh(a){Date.now()-a.D>a.F&&a.clearCache()}function gnh(a,b){return a.C.has(b)?a.C.get(b):null}function hnh(a,b){var c=new Set;b.forEach(function(d){a.ea.add(d);c.add(d)});r3b(a,c,"dbobjectmodel-event-update")}function inh(a,b){a.D&&a.F&&b.forEach(function(c){a.D.C.has(c)?gnh(a.D,c)||a.F.C(116202):a.F.C(1162031)})}
function jnh(a,b){a.F.C(36994);b||a.F.C(36995)}function knh(a,b,c,d){xqe(a.J,b,function(e){var f=e.filter(function(h){return 2==h.nf().getState()});c(f);e=e.filter(function(h){return 2!=h.nf().getState()});d(e)},d,!0,2)}
function lnh(a,b){if(a.O&&b&&a.F){b=N().aNb()(b.gb());yd(b)||fnh(a.D);for(var c=[],d=0;d<b.length;d++){var e=b[d];a.D.C.has(e)?(e=gnh(a.D,e),jnh(a,e)):c.push(e)}yd(c)||knh(a,c,function(f){f.forEach(function(h){h=h.Rl();a.D.C.set(h,!0);jnh(a,!0)})},function(f){f.forEach(function(h){var k=h.nf();k=jh(h,1)&&37==k.getErrorCode();h=h.Rl();a.D.C.set(h,!k);jnh(a,!k)})})}}function mnh(a,b,c,d){xqe(a.J,b,function(e){var f=e.filter(function(h){return 2!=h.nf().getState()});0==f.length?c(e):d(f)},d,!0)}
function nnh(a,b,c,d){y2e(a.J,b,c,d,!0)}function onh(a){var b=lH.getInstance();return new Qm(function(c,d){n2e(b,"/dbx/delegations",function(e){c(gh(Vmh,JSON.stringify(e.we())))},d,["data",a.pb()])})}function pnh(a){var b=lH.getInstance();return new Qm(function(c,d){mH(b,"/charts/score",[],a.pb(),function(e){e=gh(Mmh,JSON.stringify(e.we()));c(e)},d)})}function qnh(a){var b=lH.getInstance();b.F=a;b.C&&b.F.lE(b.C)}
function rnh(a,b,c){return new Qm(function(d,e){nw(c,function(){mH(a,"/dbx/refreshSlicerObject",a.D?["esid",a.D]:[],b.pb(),function(f){f=gh($mh,JSON.stringify(f.we()));d(f)},function(){var f=RP(QP().Db(3),31).build();f=Rmh(f).build();var h=void 0===h?hh($mh):h;h=new Zmh(h);f=Bh(h,1,f).build();e(f)})})})}
function snh(a,b,c){return new Qm(function(d,e){nw(c,function(){mH(a,"/dbx/refreshObject",a.D?["esid",a.D]:[],b.pb(),function(f){f=gh(Ymh,pk(f.we(),ema));d(f)},function(){var f=RP(QP().Db(3),31).build();f=Rmh(f).build();var h=void 0===h?hh(Ymh):h;h=new Xmh(h);f=Bh(h,2,f).build();e(f)})})})}
function tnh(a,b,c){return new Qm(function(d,e){nw(c,function(){mH(a,"/dbx/validateCalculatedColumn",[],b.pb(),function(f){f=gh(i2e,JSON.stringify(f.we()));d(f)},function(){var f=RP(QP().Db(3),31).build();f=j2e(f).build();e(f)})})})}function unh(a){return a.D["ritz-DisplayCountBigsheetsPromo"]}function vnh(a){a.ma&&a.ma.cd(a.La(),a.ea?5:1,new nq(0,a.ea?50:0,12,a.ea?0:50))}
function wnh(a,b,c,d,e,f,h,k,l){iJ.call(this,a,b,c,d,e,l);this.F=new lnc(h,d.qc(),k,l);this.Ha(this.F,!0);this.H=f;this.D=null}v(wnh,iJ);wnh.prototype.Ca=function(){var a=this.qa().Ca("DIV","waffle-dbsource-container");this.mb(a)};wnh.prototype.Ia=function(){iJ.prototype.Ia.call(this);this.D=new ow(this.La(),this.qa());pw(this.D)};wnh.prototype.Ad=function(){Wf(this.D);iJ.prototype.Ad.call(this)};
wnh.prototype.focus=function(){var a=this.F;a.D.isVisible()&&a.D.isEnabled()&&(a.D.La().focus(),a.D.Np(!0));this.H.Db(2)};function xnh(a){var b=a.O.C.C;if(rC(b))return N().AWa()(b.gb());(b=J3e(a))||(b=(b=uDc(a))?vDc(a,b):null);if(b||(b=(b=K3e(a))?N().IZ()(b):null))return b;b=hG(a.Sa());return vDc(a,b)}function ynh(a,b){[a.O,a.Ja].forEach(function(c){return c.setPosition(b)});a.D.some(function(c){c.C.setPosition(b)})}
function znh(){var a=lH.getInstance(),b=Anh();return new Qm(function(c){mH(a,"/dbx/getBigsheetsPromoRelevance",[],b.pb(),function(d){d=gh(Tmh,JSON.stringify(d.we()));c(d)},function(){var d=void 0===d?hh(Tmh):d;d=new Smh(d);d=Ah(d,1,0).build();c(d)})})}function Bnh(a){a=a||{};return D7e(a.color,a.Wjc)}function Cnh(a){C.call(this,a)}v(Cnh,C);function Dnh(a,b){return yh(a,1,b)}Cnh.prototype.Hd=function(){return this.message.Hd()};function Enh(a,b){return yh(a,2,b)}
function Fnh(a){this.hb=ch(a,-1,0)}v(Fnh,fh);Fnh.prototype.toBuilder=function(){return new Cnh(this)};Fnh.prototype.Hd=function(){return nh(this,2)};function Gnh(){var a=void 0===a?hh(Fnh):a;return new Cnh(a)}function Hnh(a){C.call(this,a)}v(Hnh,C);function Inh(a,b){return Dh(a,2,b)}function Jnh(a){this.hb=ch(a,-1,0)}v(Jnh,fh);Jnh.prototype.toBuilder=function(){return new Hnh(this)};function Knh(){var a=void 0===a?hh(Jnh):a;return new Hnh(a)}function Lnh(a){C.call(this,a)}v(Lnh,C);
function Mnh(a){this.hb=ch(a,500,0)}v(Mnh,fh);Mnh.prototype.toBuilder=function(){return new Lnh(this)};function Anh(){return hh(Mnh)}function Nnh(a){C.call(this,a)}v(Nnh,C);function Onh(a,b){return wh(a,1,b)}function Pnh(a){this.hb=ch(a,-1,0)}v(Pnh,fh);Pnh.prototype.toBuilder=function(){return new Nnh(this)};function Qnh(){var a=void 0===a?hh(Pnh):a;return new Nnh(a)}function Rnh(){var a=void 0===a?hh(Vmh):a;return new Umh(a)}function Snh(a){C.call(this,a)}v(Snh,C);
function Tnh(a){this.hb=ch(a,-1,0)}v(Tnh,fh);Tnh.prototype.toBuilder=function(){return new Snh(this)};function Unh(a){C.call(this,a)}v(Unh,C);function Vnh(a){this.hb=ch(a,-1,0)}v(Vnh,fh);Vnh.prototype.toBuilder=function(){return new Unh(this)};function Wnh(a){C.call(this,a)}v(Wnh,C);function Xnh(a,b){return yh(a,1,b)}function Ynh(a,b){return Dh(a,2,b)}function Znh(a){this.hb=ch(a,-1,0)}v(Znh,fh);Znh.prototype.toBuilder=function(){return new Wnh(this)};
function $nh(){var a=void 0===a?hh(Znh):a;return new Wnh(a)}function aoh(a,b){return{title:a,body:b}}function d3(a){return aoh("Query failed",a)}function boh(a){return a?fXb[a]||"other":"other"}
function coh(a,b){var c=b.getErrorCode(),d=b.Aj();if(0==a)return d3(K8e(d));switch(c){case 36:case 20:case 56:case 55:case 45:case 46:case 49:case 50:case 51:case 53:case 54:return d3(L8e(3,d,b));case 37:return d3(y8e(d));case 6:return a=(new qv("{objectType, select, chart {The data source took too long to return this chart. Please try again.} pivot_table {The data source took too long to return this pivot table. Please try again.} formula {The data source took too long to return this formula result. Please try again.} record {The data source took too long to return this extract. Please try again.} datasource_preview {The data source took too long to return this preview. Please try again.} other {The data source took too long to return data. Please try again.}}")).format({objectType:boh(a)}),aoh("Timed out",
J8e(a,d));case 8:return b=gXb.format(y(A(),"febpr")?5E4:3E4),c=gXb.format(y(A(),"femdrr")?5E4:25E3),b=(new qv("{objectType, select, chart {Results exceed {maxRows} rows. Update this chart and try again.}pivot_table {Update the number of rows and/or columns to a maximum of {dbPivotTableMaxRows} by using filtering, grouping, or customizing number of rows and/or columns. Then, try again.}formula {Results exceed {maxRows} rows. Update this function and try again.} record {Results exceed {dbRecordMaxRows} rows. Update this extract and try again.} datasource_preview {Results exceed {maxRows} rows. Update this connected sheet and try again.} other {Results exceed {maxRows} rows. Update this query and try again.}}")).format({objectType:boh(a),
maxRows:hXb,dbPivotTableMaxRows:b,dbRecordMaxRows:c}),aoh(1==a?"Rows and/or columns exceed limit":"Too many rows",J8e(b,d));case 18:return aoh("Unsupported type",$U("The query returns a type which is currently not supported."));case 19:return d3(B8e());case 22:return d3(C8e());case 26:return d3($U("The column type of connected data is not compatible with the operation."));case 30:return d3($U("Sorting by an array column is not supported for connected sheets and extracts."));case 32:return aoh("Too many customized number of rows & columns",
$U("Your pivot table contains one or more array database columns. Only one can have customized number of rows or columns."));case 33:return d3(E8e());case 35:return d=(new qv("{objectType, select, chart {A column referenced by this chart is not available.} pivot_table {A column referenced by this pivot table is not available.} formula {A column referenced by this formula is not available.} record {A column referenced by this extract is not available.} datasource_preview {The column settings do not match the data source. Try removing sorts, filters and calculated columns and try again.} other {A column referenced by this object is not available.}}")).format({objectType:boh(a)}),
d=$U(d),d3(d);case 34:return d=(new qv("{objectType, select, chart {A calculated column referenced by this chart no longer exists. Update and try again.} pivot_table {A calculated column referenced by this pivot table no longer exists. Update and try again.} formula {A calculated column referenced by this formula no longer exists. Update and try again.} record {A calculated column referenced by this extract no longer exists. Update and try again.} datasource_preview {A calculated column referenced by this preview no longer exists. Update and try again.} other {A calculated column referenced by this object no longer exists. Update and try again.}}")).format({objectType:boh(a)}),
d=$U(d),d3(d);case 38:return d3(K8e(null));case 39:return d3(D8e());case 40:return d3($U("A calculated column has an invalid formula. Update and try again."));case 15:return d3(z8e(nh(b,6).toUpperCase()));case 14:return d3(A8e(nh(b,6).toUpperCase()));case 42:return d3(F8e());case 43:return d3(G8e());case 44:return d3(H8e());case 47:return d3($U("The delegated access settings are invalid. The delegated access has been disabled. Please refresh again."));case 48:return d3($U("Refresh using delegation is unavailable now. Please disable delegated access in connection settings or try again later."));
case 52:return d3($U("You can not refresh with delegated credentials because you are not in the same organization as the credential owner."))}return d3(K8e(d))}
function doh(a,b){a=coh(a,b);if(jh(b,11)&&jh(b.sb(11,Apa),5)){var c=b.sb(11,Apa),d=nh(c.Cf(),2);if(d&&0!=d.length){var e=nh(c.sb(8,ypa),2),f=!!e&&0<e.length,h=jh(b,8)&&0<ph(b,8),k=new Date(ph(b,8)),l=(new Vw(1)).format(k);k=(new Vw(5)).format(k);2==rh(c,1,0)?c=h?"A scheduled refresh created by "+(d+(" failed at "+(k+(" on "+(l+". \n\n"))))):"A scheduled refresh created by "+(d+" failed. \n\n"):(c=h?f?"A query created by "+(d+(" using "+(e+("'s credentials failed at "+(k+(" on "+(l+". \n\n"))))))):
"A query created by "+(d+(" failed at "+(k+(" on "+(l+". \n\n"))))):f?"A query created by "+(d+(" using "+(e+"'s credentials failed. \n\n"))):"A query created by "+(d+" failed. \n\n"),b=b.getErrorCode(),f&&(37==b||52==b)&&d!=e&&Hx.isEnabled()&&y(A(),"fedd")&&(c+="To attempt refreshing using your own credentials, disable delegated access in connection settings and try again. \n\n"));b=cf("span",{"class":"waffle-dataconnector-error-user"},bf(c))}else b=null}else b=null;if(!b)return a;b=df([b,a.body]);
return{title:a.title,body:b}}function eoh(a,b,c,d){this.D=a;this.C=b;this.F=c;this.H=d}eoh.prototype.Rl=g("D");eoh.prototype.gb=g("H");function foh(){var a=new $w,b="Configure a project in the Google Cloud Platform console to continue. "+(a.Jc("a",{"class":"goog-inline-block",href:"https://connectedsheets.page.link/addproject",target:"_blank"})+("Learn more"+a.Ic("a")));return a.format(b)}
function goh(a){var b=VU(a);a=nh(b,5);b=b.sb(4,KU);var c=nh(b,3)||"";b=c+(c?".":"")+nh(b,2)+"."+b.getName();b=z6e("select * from `"+b+"`");a=yh(b,5,a).build();b=V7e();b=Ah(b,2,2);return T7e(b,a).build()}
function hoh(){var a='<div class="'+U("waffle-bigquerydbsourcesettingsdialog-project-section")+'"><div class="'+U("waffle-bigquerydbsourcesettingsdialog-project-heading")+'"><h3 class="'+U("waffle-bigquerydbsourcesettingsdialog-project-title")+'">';a=a+'Choose a cloud project</h3></div><div class="'+(U("waffle-bigquerydbsourcesettingsdialog-project-menu-wrapper")+'"></div></div>');return T(a)}
function ioh(){var a='<div class="'+U("waffle-bigquerydbsourcesettingsdialog-footer-wrapper")+'"><p class="'+U("waffle-bigquerydbsourcesettingsdialog-footer-message")+'">';return T(a+'Your use of BigQuery is governed by the <a href="https://cloud.google.com/terms/" target="_blank">Google Cloud Platform Terms of Service</a>.</p></div>')}
function joh(a,b,c,d){$V.call(this,"waffle-bigquerydbsourcesettingsdialog",d);d=c?"Edit data connection":"Add data connection";this.setTitle(this.qa().Ca("SPAN",void 0,d));this.L=a;this.J=b;this.O=c||null;this.C=new Rff(void 0,this.qa());this.Ha(this.C);this.F=null;this.D=new ogf(this.qa());this.D.Ob("waffle-bigquerydbsourcesettingsdialog-info-icon");this.D.setVisible(!1);this.Ha(this.D)}v(joh,$V);
joh.prototype.Ca=function(){$V.prototype.Ca.call(this);zr(this.zb(),hoh);TV(this).appendChild(Br(ioh));var a=this.D.C;a.Ob("waffle-bigquerydbsourcesettingsdialog-info-bubble");a.setPosition(2,2,0,-8);var b="Displaying the top "+(anc.format(1E4)+" projects. To use an unlisted project, enter the full project ID in the search bar and press enter.");a.setContent(Ze(b));this.D.render(this.bb("waffle-bigquerydbsourcesettingsdialog-project-heading"));bs(this.D.La(),b);this.C.render(this.bb("waffle-bigquerydbsourcesettingsdialog-project-menu-wrapper"));
(this.C.ej||null).setAttribute("placeholder","Search projects");this.qa().Th(this.C.La(),!1)};joh.prototype.Ia=function(){var a=this;$V.prototype.Ia.call(this);this.C.Ll(!0);Dff(this.L).then(function(b){a.xb()&&(b&&0!=b.length||a.J.C(36566),koh(a,b),a.C.Ll(!1))},function(){a.xb()&&(a.J.C(36685),Nu.getInstance().postMessage(Pu("Could not connect to BigQuery","error",!0)),koh(a,[],!0),a.C.Ll(!1))})};
function koh(a,b,c){c=void 0===c?!1:c;a.D.setVisible(!0);if(0!=b.length||c)loh(a,b),a.getHandler().listen(a.C,"action",function(e){return moh(a,e,b)});else{c=a.qa();var d=Hm(c,foh());Q(a.Da("waffle-bigquerydbsourcesettingsdialog-project-menu-wrapper"),!1);c.appendChild(a.Da("waffle-bigquerydbsourcesettingsdialog-project-section"),c.Ca("DIV","waffle-bigquerydbsourcesettingsdialog-error-caption",d))}}function loh(a,b){b=noh(b);Tff(a.C,b);Xff(a.C);Uff(a.C)}
function noh(a){return rd(a,function(b){return new Fff(b.getId(),b.getName())})}function moh(a,b,c){b=b.target.Sa();var d=b instanceof Fff?b.cR:b.getValue();fs(a.La(),"waffle-bigquerydbsourcesettingsdialog-transition-out");a.C.b7("translateX(-24px)").then(function(){return a.resolve(new Cff(c,d,d,"db-source-table",a.O))})}
function ooh(a){a.F=new tw("Pick your GCP project","Get started by selecting the Google Cloud project containing the dataset you need. You may change the billing project in the next step.",a.Da("waffle-bigquerydbsourcesettingsdialog-project-section"),a.qa(),"waffle-bigquerydbsourcesettingsdialog-tooltip");a.F.setPosition(0,2);a.F.C.Eu=!1;a.F.render(a.zb());a.getHandler().Ye(a.F.aJ(),Cl,function(){a.F.setVisible(!1)})}
function poh(){var a='<div class="'+U("waffle-bigquerywrongskudialog-message")+'">';return T(a+"Thank you for your interest in connected sheets. Unfortunately, you don't have the required G Suite license to gain access.</div>")}function qoh(){return T('<div class="'+U("waffle-bigquerywrongskudialog-learn-more-wrapper")+'"></div>')}
function roh(a){SV.call(this,"waffle-bigquerywrongskudialog",a);this.setTitle(this.qa().Ca("SPAN",void 0,"Upgrade to get access"));this.C=new Bw("Learn more",this.qa());this.Ha(this.C)}v(roh,SV);
roh.prototype.Ca=function(){SV.prototype.Ca.call(this);zr(this.zb(),poh);TV(this).appendChild(Br(qoh));this.C.render(this.Da("waffle-bigquerywrongskudialog-learn-more-wrapper"));this.getHandler().listen(this.C,"action",function(){ur("https://connectedsheets.page.link/support")});var a=this.Da("waffle-bigquerywrongskudialog-message");a.id=mr(this,"waffle-bigquerywrongskudialog-message");Zr(this.La(),"describedby",a.id)};
function soh(a,b,c,d,e,f,h,k,l){UU.call(this,d,h,k,l);this.F=a;this.ma=b;this.Aa=c;this.Ea=f;this.xa=e}v(soh,UU);soh.prototype.Ca=function(){UU.prototype.Ca.call(this);this.mb(Br(M8e,{sO:!1}))};soh.prototype.Ia=function(){UU.prototype.Ia.call(this);null!=this.ma&&(this.C.setValue(N().WMb()(this.ma.pb(),this.F)),this.canEdit&&this.WT())};soh.prototype.OZa=function(){return this.xa.getRitzFormulaValidationResultForCalculatedColumn(this.F,P7e(this),tWb(this.Aa))};
soh.prototype.Kbb=function(a){var b=this;this.J=!0;this.Mqa();a=O8e(P8e(R8e(),this.F),a).build();tnh(lH.getInstance(),a,this.Ea).then(function(c){c=c.nf();3==c.getState()?(c="BigQuery error: "+c.Aj(),N7e(b,!1,c)):N7e(b,!0,null);O7e(b)},function(){N7e(b,!1,null);O7e(b)})};function toh(a,b,c){bV.call(this,a,b,c)}v(toh,bV);toh.prototype.Ia=function(){bV.prototype.Ia.call(this)};toh.prototype.Haa=function(){this.C.Ob("waffle-calculated-columns-tooltip-help-bubble");bV.prototype.Haa.call(this)};
toh.prototype.J=function(){V8e(this,"https://connectedsheets.page.link/calccolhelp");var a="="+(N().vq()("RIGHT")+"(orderId, 4)");var b="="+(N().vq()("YEAR")+"(startDate)");var c="="+(N().vq()("IF")+"(units > 0, total/units, 0)");this.C.setContent(this.qa().Ca("DIV",void 0,cV("waffle-db-object-formula-tooltip-help-bubble-title","Try these formulas"),cV("waffle-db-object-formula-tooltip-help-bubble-subtitle","Do basic math"),cV("waffle-db-object-formula-tooltip-help-bubble-example","=price * quantity"),
cV("waffle-db-object-formula-tooltip-help-bubble-subtitle","Manipulate text"),cV("waffle-db-object-formula-tooltip-help-bubble-example",a),cV("waffle-db-object-formula-tooltip-help-bubble-subtitle","Use dates"),cV("waffle-db-object-formula-tooltip-help-bubble-example",b),cV("waffle-db-object-formula-tooltip-help-bubble-subtitle","Apply conditional logic"),cV("waffle-db-object-formula-tooltip-help-bubble-example",c),this.KO))};function uoh(a){C.call(this,a)}v(uoh,C);uoh.prototype.Hd=function(){return this.message.Hd()};
uoh.prototype.zn=function(){return this.message.zn()};function voh(a){this.hb=ch(a,-1,0)}v(voh,fh);voh.prototype.toBuilder=function(){return new uoh(this)};voh.prototype.Hd=function(){return nh(this,1)};voh.prototype.zn=function(){return nh(this,3)};function woh(a,b,c,d,e){AG.call(this,153);this.D=a;this.J=b;this.C=c||"";this.O=d;this.L=e}v(woh,AG);
woh.prototype.Nd=function(){var a=void 0===a?hh(voh):a;a=new uoh(a);a=yh(a,1,this.D);a=yh(a,4,this.J);a=yh(a,3,this.C);a=yh(a,2,this.O);return xh(a,5,this.L).build()};function xoh(a,b,c){wl.call(this,a);this.jn=b;this.C=c}v(xoh,wl);
function yoh(a,b,c,d,e,f,h,k,l,n,q){SU.call(this,a,null==b,e,f,n,q);this.rf=new toh(n,q,this.qa());this.Ha(this.rf);this.xa=b;null==b?b=null:(e=Upa(),e.Oi(1,2),b=yh(e,2,b).build());this.R=b;this.Va=c;this.Ra=d;this.F=new soh(a,this.R,d,f,k,l,n,q,this.qa());this.Ha(this.F);this.Ta=h}v(yoh,SU);p=yoh.prototype;p.Na=function(){SU.prototype.Na.call(this)};
p.Ca=function(){SU.prototype.Ca.call(this);var a=null==this.xa?"Add calculated column":this.canEdit?"Edit calculated column":"View calculated column";this.setTitle(a);var b=SXa(this);b&&bs(b,a);a=Br(T8e,{canEdit:this.canEdit,hUa:"Calculated column name",description:"Calculated columns let you create new columns for better analysis by using Sheets functions and the current data in your connected sheet."});b=this.zb();this.qa().appendChild(b,a);this.rf.render(this.Da(RU.TOOLTIP));this.F.render(this.Da(RU.tJa))};
p.Ia=function(){SU.prototype.Ia.call(this);null!=this.R&&(this.C.setValue(MF(this.R,this.jn)),this.yAa());this.Cba();this.getHandler().listen(this.F,"validation-update",this.Cba)};p.Ad=function(){SU.prototype.Ad.call(this)};p.Q9a=function(){for(var a=[],b=ha(this.Va),c=b.next();!c.done;c=b.next())c=c.value,jh(XG(c),2)||a.push(c);q7e(this,a)};p.KGa=function(){var a=KVb(this.ea,!1,!1,!0,!1);o7e(this.L,a)};
p.B1a=function(){var a=this,b=P7e(this.F);if(!Zd(b)){var c=null==this.xa;b=new woh(this.jn,z1e(this.C.getValue()),this.xa,b,Imh(this.Ra));var d=c?36645:36647,e=c?36644:36646;BG(b,function(f){a.ma.C(f?e:d,a.Sk);f&&a.dispatchEvent(new xoh("update",a.jn,c))});this.Ta.C(b)}};p.I_a=function(a){a=a.target.getValue();a=rVb(a,this.jn);Q7e(this.F,a)};p.q0a=function(a){a=a.target.getValue().getName();R7e(this.F,a)};
p.Lqa=function(){if(qf(this.C.getValue()))var a=null;else a:{var b=this.Ra,c=this.C.getValue();a=this.R;c=z1e(c);if(Zd(c))a="Calculated column name cannot be empty";else{for(var d=ha(b.C.keys()),e=d.next();!e.done;e=d.next())if(e=e.value,Xd(e,c))if(d=null!=a,b=b.C.get(e),d&&a.equals(b))break;else{a="A column named "+(c+" already exists");break a}a=null}}return a};p.F3a=function(){return this.F.L};
function zoh(){var a='<div class="'+U("waffle-dbanswers-answers-bar")+'"><div class="'+U("waffle-dbanswers-answers-bar-controls")+'"><div class="'+U("waffle-dbanswers-answers-bar-input")+'"></div><div class="'+U("waffle-dbanswers-answers-bar-enable-button")+'">';a=a+'Enable</div></div><div class="'+(U("waffle-dbanswers-answers-bar-message")+'"></div></div>');return T(a)}
function Aoh(){var a='<div class="'+U("waffle-dbanswers-answers-bar-enable-answers-popup")+'">',b='To perform natural language queries on this data, ask the table owner or admin to follow the <div class="'+(U("waffle-dbanswers-answers-bar-enable-answers-popup-setup-link")+'">setup instructions.</div>');return T(a+b+"</div>")}
function Boh(a,b){S.call(this,b);this.F=a;this.C=new wt;jZa(this.C,0);kZa(this.C,5,5,5,5);foe(this.C,!0);this.oa(this.C);this.D=new At(null,new nO,this.qa());this.Ha(this.D)}v(Boh,S);p=Boh.prototype;p.Ca=function(){var a=Br(Aoh);this.mb(a);Zr(a,"hidden",!0);Q(a,!1);this.C.Kw(a);this.D.Wa(this.bb("waffle-dbanswers-answers-bar-enable-answers-popup-setup-link"))};p.Ia=function(){S.prototype.Ia.call(this);this.getHandler().listen(this.D,"action",this.zec)};
p.Bi=function(a){this.C.setPosition(new Lt(a,0,!0))};p.setVisible=function(a){this.C.setVisible(a);a&&this.D.La().focus()};p.isVisible=function(){return this.C.isVisible()};p.cd=function(){this.C.cd()};p.zec=function(a){a.stopPropagation();a.preventDefault();a=pq(new oq,75).build();this.F.C(36761,a);y(A(),"docs-idu")?of("https://sites.google.com/corp/google.com/data-qna#h.p_Vf6xbc97l9jL"):of("https://docs.google.com/document/u/1/d/e/2PACX-1vRNytdUb20j3I6WPQXLmmIfOHkWR3a0iPg4ck1AdXzSznrW3USl3NtYGIk34sBQaxl_fSiUPclFqJK4/pub?urp=gmail_link#h.ng0zmdirli5c")};
function Coh(a,b,c,d,e,f){bW.call(this,a,b,c,$Wb.getInstance(),"db",d,e,f);this.D="";this.R=0;this.xa=new VO(void 0,this.qa());this.Ha(this.xa);this.ea=new Boh(b,this.qa());this.Ha(this.ea);this.ma=null}v(Coh,bW);p=Coh.prototype;p.Gc=function(a){this.mb(a);var b=Br(zoh);this.qa().appendChild(a,b);a=this.bb("waffle-dbanswers-answers-bar-input");this.H.render(a);this.xa.Wa(this.bb("waffle-dbanswers-answers-bar-enable-button"));this.ea.render();this.ea.Bi(this.xa.La())};
p.Ia=function(){bW.prototype.Ia.call(this);this.U_()};p.U_=function(){bW.prototype.U_.call(this);this.getHandler().listen(this.xa,"action",this.k3b)};p.mI=function(){return GF(this.J.C)&&y(A(),"feda")&&!Us().C?bW.prototype.mI.call(this):!1};p.Oa=function(a){this.xb()&&(0!=this.R&&y(A(),"fedaic")?(bW.prototype.Oa.call(this,!1),Doh(this,!0)):(Doh(this,!1),bW.prototype.Oa.call(this,a)))};p.fQ=function(){bW.prototype.fQ.call(this);this.ea.isVisible()&&this.ea.cd()};
p.n2a=function(a){V6e(a,null,this.D,this.F)};p.vba=function(){this.D?Eoh(this):this.WB();W6e(null,this.D,this.F)};p.WB=function(){bW.prototype.WB.call(this);this.D="";W6e(null,null,this.F)};p.gia=function(){return Foh(this.R)};p.bHa=m(!0);
function Goh(a,b){a.D!=b&&(a.D=b,y(A(),"fedaic")?(a.ma&&a.ma.cancel(),a.ma=cnh(lH.getInstance(),a.D),Xm(a.ma.then(function(c){a.R=c.getError();c=0==a.R;a.Oa(c);c?a.mI()&&a.vba():a.WB()},function(c){c instanceof Ym||(a.R=4,a.Oa(!1),a.WB())}),function(){a.ma=null})):a.mI()&&a.vba())}function Eoh(a){if(pgf(a)){var b=a.O;b.D=a.D;b.yL();qnh(b);b.QP([]);var c=a.J;nn(function(){a.D&&NH(c.ea,a.D,!0).then(function(d){return Hoh(a,d,a.D)})},3E3)}}
function Hoh(a,b,c){b.forEach(function(d){var e=rVb(d,c);if(null!=e){var f=a.O;a:{if(d.hasType())switch(d.getType()){case 1:case 2:case 4:case 5:case 6:case 7:d="$dim";break a;case 3:d="$met";break a}d="$unu"}QWb(f,e,d)}})}function Doh(a,b){a.xa.setVisible(1==a.R);var c=a.bb("waffle-dbanswers-answers-bar-message");b=b?Foh(a.R):"";a.qa().Ce(c,b)}p.k3b=function(){this.L.C(36760,qgf(this));this.ea.setVisible(!0)};
function Foh(a){switch(a){case 1:return"The admin for this table hasn't enabled Answers yet.";case 2:return"Answers is not yet supported for data sets created by custom query.";case 3:return"The admin for this table hasn't enabled Answers yet.";case 4:return"Answers is unavailable at the moment, please try again later.";case 5:return"This data table is being setup for Answers in the background. Please try again in some time.";default:return""}}
function Ioh(){return T('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="#5f6368" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-2-3.5l6-4.5-6-4.5z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>')}
function Joh(){return T('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="#5f6368" d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17l-.59.59-.58.58V4h16v12zm-9-4h2v2h-2zm0-6h2v4h-2z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>')}function Koh(){var a='<div class="'+U("waffle-dbsource-pill-menuitem")+'">'+QVb();return T(a+"Learn more about BigQuery</div>")}
function Loh(){var a='<div class="'+U("waffle-dbsource-pill-menuitem")+'">'+Joh();return T(a+"Send feedback</div>")}function Moh(){var a='<div class="'+U("waffle-dbsource-pill-menuitem waffle-dbsource-configbar-watch-tutorial-menuitem")+'">'+Ioh()+"<div>";a=a+'Watch tutorial<div class="'+(U("waffle-dbsource-configbar-watch-tutorial-menuitem-caption")+'">');return T(a+"Learn the ins and outs of Connected Sheets</div></div></div>")}
function Noh(){return T('<div class="'+U("waffle-dbsource-configbar-actions")+'"><div class="'+U("waffle-dbsource-configbar-columns-menu-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-button-wrapper")+" "+U("waffle-dbsource-configbar-chart-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-button-wrapper")+" "+U("waffle-dbsource-configbar-pivot-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-button-wrapper")+" "+U("waffle-dbsource-configbar-function-button-wrapper")+
'"></div><div class="'+U("waffle-dbsource-configbar-button-wrapper")+" "+U("waffle-dbsource-configbar-table-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-button-wrapper")+" "+U("waffle-dbsource-configbar-calculated-column-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-button-wrapper")+" "+U("waffle-dbsource-configbar-column-insights-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-answers-wrapper")+'"></div></div>')}
function Ooh(a){a=a.X2a;var b='<div class="'+U("waffle-dbsource-configbar-wrapper")+'"><div class="'+U("waffle-dbsource-configbar")+'"><div class="'+U("waffle-dbsource-configbar-header")+'"><div class="'+U("waffle-dbsource-configbar-header-icon")+'">'+B7e(24)+'</div><div class="waffle-dbsource-configbar-header-title" role="textbox" tabindex="0" aria-label="';b+=Lr("Connected sheet name");b+='"></div><div class="'+U("waffle-dbsource-configbar-separator")+'"></div><div class="'+U("waffle-dbsource-configbar-header-subtitle")+
'"></div><div class="'+U("waffle-dbsource-configbar-button-wrapper")+" "+U("waffle-dbsource-configbar-refresh-options-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-options-wrapper")+'"><div class="'+U("waffle-dbsource-configbar-watch-tutorial-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-send-feedback-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-connection-settings-button-wrapper")+'"></div></div></div>'+Noh()+"</div></div>"+(a?
'<div class="'+U("waffle-dbsource-configbar-preview-bar-wrapper")+'"></div>':"");return T(b)}
function Poh(a){a=a.X2a;var b='<div class="'+U("waffle-dbsource-configbar-wrapper")+'"><div class="'+U("waffle-dbsource-configbar")+'"><div class="'+U("waffle-dbsource-configbar-header")+'"><div class="'+U("waffle-dbsource-configbar-header-icon")+'">'+B7e(24)+'</div><div class="waffle-dbsource-configbar-header-title" role="textbox" tabindex="0" aria-label="';b+=Lr("Connected sheet name");b+='"></div><div class="'+U("waffle-dbsource-configbar-separator")+'"></div><div class="'+U("waffle-dbsource-configbar-header-subtitle")+
'"></div><div class="'+U("waffle-dbsource-configbar-button-wrapper")+" "+U("waffle-dbsource-configbar-refresh-options-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-schedules-widget-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-options-wrapper")+'"><div class="'+U("waffle-dbsource-configbar-connection-settings-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-auxiliary-menu-button-wrapper")+'"></div></div></div>'+Noh()+"</div></div>"+(a?'<div class="'+
U("waffle-dbsource-configbar-preview-bar-wrapper")+'"></div>':"");return T(b)}
function Qoh(){var a=T('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="#188038" fill-rule="nonzero"><path d="M14.5263158 2C15.3368421 2 16 2.7 16 3.55555556V14.4444444C16 15.3 15.3368421 16 14.5263158 16H3.47368421C2.66315789 16 2 15.3 2 14.4444444V3.55555556C2 2.7 2.66315789 2 3.47368421 2H14.5263158zM3.5 3.5v11h11v-11h-11z"/><path d="M6.75 12.75h-1.5V7.5h1.5zM9.75 12.75h-1.5v-7.5h1.5zM12.75 12.75h-1.5v-3h1.5z"/></g></svg>');return T(a+"<span>Chart</span>")}
function Roh(){var a=T('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="#188038" fill-rule="evenodd" d="M10 13h1.185c.9975 0 1.815-.81 1.815-1.815V10h-2.25l3-3 3 3H14.5v1.185c0 1.83-1.485 3.315-3.315 3.315H10v2.25l-3-3 3-3V13zM8 6V2h6.5454545C15.3454545 2 16 2.72 16 3.6V6H8zM2 6V3.6C2 2.72 2.72 2 3.6 2H6v4H2zm1.6 10c-.88 0-1.6-.6545455-1.6-1.4545455V8h4v8H3.6z"/></svg>');return T(a+"<span>Pivot table</span>")}
function Soh(){var a=rgf()+"<span>";return T(a+"Extract</span>")}function Toh(){var a=T('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="#188038" d="M15 2H3v1.75L8.143 9 3 14.25V16h12v-2.625H7.286L11.571 9 7.286 4.625H15z"/></svg>');return T(a+"<span>Function</span>")}function Uoh(a){a=a.label;return T('<span class="'+U("waffle-dbsource-configbar-column-insights-icon")+'">'+gw("docs-icon-img docs-icon-insights")+"</span><span>"+Er(a)+"</span>")}
function Voh(){var a=T('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path fill="#188038" d="M20 13h-7v7h-2v-7H4v-2h7V4h2v7h7v2z"/></g></svg>');return T(a+"<span>Calculated column</span>")}function Woh(){var a='<span class="'+U("waffle-dbsource-configbar-secondary-button-content")+'">'+Ioh()+"<span>";return T(a+"Watch tutorial</span></span>")}
function Xoh(){var a='<span class="'+U("waffle-dbsource-configbar-secondary-button-content")+'">'+Joh()+"<span>";return T(a+"Send feedback</span></span>")}function Yoh(){var a='<span class="'+U("waffle-dbsource-configbar-secondary-button-content")+'">'+gw("docs-icon-img docs-icon-info-outline-grey","waffle-dbsource-configbar-secondary-button-icon")+"<span>";return T(a+"Learn more</span></span>")}
function Zoh(){var a='<span class="'+U("waffle-dbsource-configbar-secondary-button-content")+'">'+gw("docs-icon-img docs-icon-settings","waffle-dbsource-configbar-secondary-button-icon")+"<span>";return T(a+"Connection settings</span></span>")}
function $oh(){return T('<div class="'+U("waffle-dbsource-configbar-schedules-widget")+'"><div class="'+U("waffle-dbsource-configbar-schedules-widget-content")+'"><div class="'+U("waffle-dbsource-configbar-schedules-widget-last-refresh")+'"><span class="'+U("waffle-dbsource-configbar-schedules-widget-last-refresh-content")+'"></span><span class="'+U("waffle-dbsource-configbar-schedules-widget-last-refresh-divider")+'"></span></div><div class="'+U("waffle-dbsource-configbar-schedules-widget-next-refresh")+
'"><span class="'+U("waffle-dbsource-configbar-schedules-widget-next-refresh-content")+'"></span><span class="'+U("waffle-dbsource-configbar-schedules-widget-edit-button-wrapper")+'"></span></div></div><div class="'+U("waffle-dbsource-configbar-schedules-widget-main-button-wrapper")+'"></div></div>')}
function aph(a,b){UK.call(this,Ar(Yoh),new Jt(b),srd.getInstance(),b);this.C=a;this.D=new Map([["bigquery-helpdoc",ggb],["send-feedback",this.C.Ga("docs-feedback")],["watch-tutorial",nhb]]);this.hd(new Et(Br(Loh),"send-feedback",this.qa()));this.hd(new It(this.qa()));this.hd(new Et(Br(Moh),"watch-tutorial",this.qa()));this.hd(new It(this.qa()));this.hd(new Et(Br(Koh),"bigquery-helpdoc",this.qa()))}v(aph,UK);
aph.prototype.Ia=function(){UK.prototype.Ia.call(this);fs(this.Bb().getElement(),"waffle-dbsource-pill-menu");fs(this.Bb().getElement(),"docs-gm");this.getHandler().listen(this.Bb(),"action",this.F)};aph.prototype.F=function(a){a=a.target.Sa();a=this.D.get(a);if(a.isEnabled()){var b;a==this.C.Ga("docs-feedback")&&(b={source:"big-sheets-feedback"});a.kb(b)}};
function bph(a){var b=a.label;a=a.nj;return T((a?'<div class="'+U("goog-menuitem-icon")+" "+U("waffle-charteditor-column-filtered-menu-item-icon")+" "+U(a)+'"></div>':"")+'<span class="'+U("waffle-datasource-configbar-columns-menu-item-label")+'">'+Er(b)+"</span>")}function cph(){return T('<div class="'+U("waffle-datasource-configbar-columns-menu-spinner-container")+'"></div>')}
function dph(a){Jt.call(this,a);this.D=new kV(!1);this.oa(this.D);this.C=new Et(Br(cph),void 0,this.qa());this.C.sB(!1);this.Ha(this.C)}v(dph,Jt);dph.prototype.Ia=function(){Jt.prototype.Ia.call(this);fs(this.La(),"waffle-datasource-configbar-columns-menu")};dph.prototype.Ca=function(){Jt.prototype.Ca.call(this);this.C.render(this.La());this.D.render(this.C.Da("waffle-datasource-configbar-columns-menu-spinner-container"))};
dph.prototype.dI=function(a,b){a=ha(a);for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=rVb(c,b);null!==d&&this.addColumn(d,NU(c.getType()))}};dph.prototype.addColumn=function(a,b){this.Ha(new Et(Br(bph,{label:a,nj:b}),void 0,this.qa()),!0)};function eph(a,b){var c=a.C.getElement();c&&(js(c,"waffle-datasource-configbar-columns-menu-loading",b),Q(c,b),a.D.setActive(b))}function fph(){Jt.apply(this,arguments)}v(fph,Jt);fph.prototype.Ia=function(){Jt.prototype.Ia.call(this);fs(this.La(),"waffle-datasource-configbar-formula-menu")};
fph.prototype.fI=function(a){var b=this;this.Ha(a,!0);this.getHandler().listen(a,"action",function(){var c=new ED("insert-formula-function");c.Aha=a.getValue();b.dispatchEvent(c)})};
function gph(a,b,c,d){S.call(this,d);this.J=a;this.O=b;this.R=c;this.H=!1;this.F=null;this.D=new At("Edit",VG.getInstance(),d);this.Ha(this.D);this.C=new SK("Schedule refresh");this.C.Ob("waffle-dbsource-configbar-schedules-widget-main-button");this.C.Ob("waffle-dbsource-flat-default");this.Ha(this.C);this.L=new ou(this);this.oa(this.L);this.L.Ab(Ix,vp,this.refresh)}v(gph,S);p=gph.prototype;p.Ca=function(){S.prototype.Ca.call(this);this.mb(Br($oh))};
p.Ia=function(){S.prototype.Ia.call(this);this.D.render(this.Da("waffle-dbsource-configbar-schedules-widget-edit-button-wrapper"));this.C.render(this.Da("waffle-dbsource-configbar-schedules-widget-main-button-wrapper"));Q(this.La(),!1);this.getHandler().listen(this.C,"action",this.b8b).listen(this.D,"action",this.A$a).listen(wG,"load-schedules-on-config-bar",this.fDa);this.fDa()};
p.refresh=function(){if(!this.isDisposed())if(!this.H||this.R.sf())Q(this.La(),!1);else{var a=this.qa(),b=Ix.isEnabled();if(null==this.F)this.C.setVisible(!0),Q(this.Da("waffle-dbsource-configbar-schedules-widget-content"),!1),hs(this.La(),"waffle-dbsource-configbar-schedules-widget-highlight"),Ut(this.C.La(),"Schedule a refresh for all connected objects associated with this sheet",void 0);else{this.C.setVisible(!1);Q(this.Da("waffle-dbsource-configbar-schedules-widget-content"),!0);fs(this.La(),
"waffle-dbsource-configbar-schedules-widget-highlight");Ut(this.D.La(),"Refresh time for all objects related to current datasource",void 0);var c=this.F.getStatus();if(jh(c,4)){Q(this.Da("waffle-dbsource-configbar-schedules-widget-last-refresh"),!0);var d=new Date(1E3*ph(c,4)),e=!1,f=!0;e=void 0===e?!0:e;f=void 0===f?!1:f;var h=new $w;var k=sgf(this.J);d=(e||d.getDate()!=(new Date).getDate()?wrd.format(d,k)+(f?", ":" "):"")+trd.format(d,k);h=h.format(d);d=this.Da("waffle-dbsource-configbar-schedules-widget-last-refresh-content");
a.od(d);a.appendChild(d,Hm(a,df(cf("SPAN",{"class":"waffle-dbsource-configbar-schedules-widget-header-label"},"Updated: "),cf("span",void 0,h))))}else Q(this.Da("waffle-dbsource-configbar-schedules-widget-last-refresh"),!1);lh(kU(this.F),1)?(h=new Date(1E3*ph(c,2)),d=new Date(1E3*ph(c,3)),h=vgf(h,d,this.J,!1,!1,!1,!0,!0)):h="Paused";d=this.Da("waffle-dbsource-configbar-schedules-widget-next-refresh-content");a.od(d);a.appendChild(d,Hm(a,df(cf("SPAN",{"class":"waffle-dbsource-configbar-schedules-widget-header-label"},
jh(c,4)?"Next: ":"Next refresh: "),cf("span",void 0,h))));this.D.setVisible(b)}Q(this.La(),!0)}};p.fDa=function(){var a=this;A2e().then(function(b){a.isDisposed()||(b=sh(b,1,Y1e).Gb(),0==b.length?a.F=null:a.F=b[0],a.H=!0,a.refresh())},function(){Nu.getInstance().postMessage(Pu("Error loading schedule configuration.","error",!0));a.H=!1;a.refresh()})};p.b8b=function(){this.fDa();this.A$a()};p.A$a=function(){var a=pq(new oq,109).build();this.O.C(116123,a);TRb(!0)};
function hph(a,b,c,d,e,f,h,k,l){h=void 0===h?null:h;k=void 0===k?null:k;l=void 0===l?null:l;Dw.call(this,a,b,c,d);e||(e=new w$a,this.oa(e));this.J=e;this.F=f;this.Kg=h;this.ea=k;this.R=l;this.C=0;this.O=new j8a(this.hj.Wha(),!0,!0);this.F&&this.F.Ah(this.O)}v(hph,Dw);p=hph.prototype;p.I8=function(a){this.hj.isVisible()&&!this.isDismissed()&&this.F&&Yv(this.F,this.O);this.C=1;Dw.prototype.I8.call(this,a);this.C=0};
p.Q8=function(a){Dw.prototype.Q8.call(this,a);this.J.xl()?Ew(this):Jl(this.H,this.J.CT(),w(this.Rib,this))};p.Rib=function(){this.J.xl()&&(Ew(this),this.Iy())};p.pna=function(){this.hj.render(this.Kg)};p.show=function(){this.isDismissed()||this.hj.isVisible()||this.pna()};p.G8=function(a){this.C=2;Dw.prototype.G8.call(this,a);this.C=0};p.Xja=function(a){this.C=3;Dw.prototype.Xja.call(this,a);this.C=0};p.gy=function(){var a=this.isDismissed();Dw.prototype.gy.call(this);!a&&this.ea&&this.ea(this.C)};
p.S8=function(a){Dw.prototype.S8.call(this,a);this.R&&this.R()};p.cd=function(){!this.isDismissed()&&this.hj.isVisible()&&this.hj.Wha().cd()};function iph(){var a='<div class="'+U("waffle-dbsource-previewbar")+'"><div class="'+U("waffle-dbsource-previewbar-content")+'"><span class="'+U("waffle-dbsource-previewbar-text")+'">';a=a+'Preview</span><span class="'+(U("waffle-dbsource-previewbar-info-icon-wrapper")+'"></span></div></div>');return T(a)}
function jph(a){var b=a.qnc;a='<div class="'+U("waffle-dbsource-previewbar-info-bubble-content")+'"><div class="'+U("waffle-dbsource-previewbar-info-bubble-title")+'">';b="This sheet shows a preview of up to "+(Er(b)+" rows");a=a+b+('</div><div class="'+U("waffle-dbsource-previewbar-info-bubble-body")+'"><span>'+sqc()+' </span><span class="'+U("waffle-dbsource-previewbar-info-bubble-link-button")+" "+U("goog-link-button")+'">'+tqc()+'</span></div><div class="'+U("waffle-dbsource-previewbar-info-bubble-button-wrapper")+
'"></div></div>');return T(a)}function kph(a,b){S.call(this,b);this.H=a;this.C=new ogf(this.qa(),2,Br(Bnh,{color:"#5f6368",Wjc:10}));this.Ha(this.C);this.D=new SK("Create extract",this.qa());this.D.Ob("waffle-dbsource-flat-default");this.Ha(this.D)}v(kph,S);kph.prototype.Ca=function(){this.mb(Br(iph));var a=this.C.C;a.Ob("waffle-dbsource-previewbar-info-bubble");a.Uo(!0);yt(a,!1);a.setPosition(1,2);a.setContent(Br(jph,{qnc:500}))};
kph.prototype.Ia=function(){var a=this;S.prototype.Ia.call(this);var b=this.Da("waffle-dbsource-previewbar-info-icon-wrapper");this.C.render(b);var c=this.C.C;this.D.render(c.Da("waffle-dbsource-previewbar-info-bubble-button-wrapper"));var d=c.Da("jfk-bubble-closebtn");d.appendChild(Br($ef));a_a(d,as(d));Ut(this.C.vF().La(),"Show information about this preview",void 0);var e=new ow(c.La(),this.qa());pw(e);this.oa(e);if(e=h7e())fs(b,e),fs(d,e);this.getHandler().listen(this.D,"action",function(){a.getHandler().Hc(c,
"hide",a.F);a.C.C.setVisible(!1);a.dispatchEvent("create-extract-button-action")}).listen(this.H,"N",function(){nn(function(){return a.C.C.cd()})}).listen(this.C.La(),"keydown",function(f){var h=a.C.C;h.isVisible()&&9===f.keyCode&&(f.preventDefault(),f.stopPropagation(),f=h.Da("waffle-dbsource-previewbar-info-bubble-link-button"),a.qa().Sv(f).focus())}).listen(c.La(),"keydown",function(f){27===f.keyCode&&c.setVisible(!1)}).listen(c,"beforeshow",function(){a.getHandler().Nc(c,"hide",a.F)})};
kph.prototype.F=function(){var a=this.C.vF().getElement();a&&a.focus()};var lph={enabled:!0,selected:!0,visible:!0},mph={enabled:!0};function nph(){wl.call(this,"configbar-dom-focus-out")}v(nph,wl);function oph(a,b){wl.call(this,"datasheet-rename");this.jh=a;this.name=b}v(oph,wl);
function pph(a,b,c,d,e,f,h,k,l,n,q){S.call(this,q);q=y(A(),"fdsrfu");var t=y(A(),"fedpi");this.Pa=a;this.D=b;this.ea=c;this.Qc=d;this.Ma=b.ea;this.Fb=k;this.Cb=l;this.Kb=n;this.Pc=f;this.Ja=new qu;this.oa(this.Ja);this.L=new UK("Columns",new dph(this.qa()),void 0,this.qa());this.L.Ob("waffle-dbsource-configbar-columns-menu-button");this.L.Oh(!0);this.Ha(this.L);this.rb=qph(this,"waffle-dbsource-configbar-chart-button",Br(Qoh));this.yb=qph(this,"waffle-dbsource-configbar-pivot-button",Br(Roh));this.Qa=
qph(this,"waffle-dbsource-configbar-table-button",Br(Soh));a=Br(Toh);this.ma=new Qt(a,new fph(this.qa()),Zqd.getInstance(),this.qa());this.ma.Ob("waffle-dbsource-configbar-function-button");this.ma.Oh(!0);this.ma.Zl(!0);this.Ha(this.ma);this.Aa=qph(this,"waffle-dbsource-configbar-calculated-column-button",Br(Voh));this.Ea=this.F=this.Ra=null;y(A(),"fedciv")&&(this.F=qph(this,"waffle-dbsource-configbar-column-insights-button",Br(Uoh,{label:"Column stats"})),this.Ra=new Sye,this.oa(this.Ra));this.R=
new SK("Refresh options");this.R.Ob("waffle-dbsource-configbar-refresh-options-button");this.R.Ob("waffle-dbsource-flat-default");this.Ha(this.R);this.H=null;q?(this.H=qph(this,"waffle-dbsource-configbar-secondary-button",Br(Zoh)),this.Va=new aph(this.Cb,this.qa()),this.Va.Ob("waffle-dbsource-configbar-secondary-button"),this.Va.Oh(!0),this.Ha(this.Va),this.$a=new gph(h,this.ea,this.D,this.qa())):(this.jb=qph(this,"waffle-dbsource-configbar-secondary-button",Br(Woh)),this.ib=qph(this,"waffle-dbsource-configbar-secondary-button",
Br(Xoh)),this.H=new SK(Br(fw,{icon:"docs-icon-img docs-icon-settings"}),this.qa()),this.H.Ob("waffle-dbsource-configbar-connection-settings-button"),this.Ha(this.H));(this.C=t?new kph(e,this.qa()):null)&&this.Ha(this.C);this.bd=new Map([[this.L,""],[this.rb,"chart"],[this.yb,"pivot table"],[this.Qa,"table"],[this.ma,"function"],[this.Aa,""],[this.R,""],[this.H,""]]);this.Lc=new Set;y(A(),"fedsccm")||this.Lc.add(this.L);this.zc=new Map([[this.R,Ex],[this.H,Kx],[this.Aa,Fx]]);this.J=null;y(A(),"feda")&&
!Us().C&&(this.J=new Coh(this.D,this.ea,this.Qc,e,75,this.qa()),this.Ha(this.J));this.Ya=this.O=null;this.ub=!1;this.xa=null;this.Ta=new Set}v(pph,S);p=pph.prototype;p.Ca=function(){var a=y(A(),"fdsrfu"),b=y(A(),"fedpi");this.mb(Br(a?Poh:Ooh,{X2a:b}))};
p.Ia=function(){var a=this;S.prototype.Ia.call(this);var b=y(A(),"fdsrfu");this.L.render(this.Da("waffle-dbsource-configbar-columns-menu-button-wrapper"));this.rb.render(this.Da("waffle-dbsource-configbar-chart-button-wrapper"));this.yb.render(this.Da("waffle-dbsource-configbar-pivot-button-wrapper"));this.Qa.render(this.Da("waffle-dbsource-configbar-table-button-wrapper"));this.ma.render(this.Da("waffle-dbsource-configbar-function-button-wrapper"));this.Aa.render(this.Da("waffle-dbsource-configbar-calculated-column-button-wrapper"));
this.F&&(this.F.render(this.Da("waffle-dbsource-configbar-column-insights-button-wrapper")),this.Ra.Pf(this.F.La()));this.R.render(this.Da("waffle-dbsource-configbar-refresh-options-button-wrapper"));this.H.render(this.Da("waffle-dbsource-configbar-connection-settings-button-wrapper"));b?(this.Va.render(this.Da("waffle-dbsource-configbar-auxiliary-menu-button-wrapper")),this.$a.render(this.Da("waffle-dbsource-configbar-schedules-widget-wrapper"))):(this.jb.render(this.Da("waffle-dbsource-configbar-watch-tutorial-button-wrapper")),
this.ib.render(this.Da("waffle-dbsource-configbar-send-feedback-button-wrapper")),su(this.Ja,this.jb,nhb,lph),su(this.Ja,this.ib,this.Cb.Ga("docs-feedback"),lph,function(){return{source:"big-sheets-feedback"}}));this.J&&this.J.Wa(this.Da("waffle-dbsource-configbar-answers-wrapper"));this.C&&(this.C.render(this.Da("waffle-dbsource-configbar-preview-bar-wrapper")),this.getHandler().listen(this.C,"create-extract-button-action",function(){return rph(a,111)}));su(this.Ja,this.R,Ex);su(this.Ja,this.Aa,
Fx);su(this.Ja,this.H,Kx,mph,function(){return new Yff(sph(a),"show-current-source")});this.O=this.Da("waffle-dbsource-configbar-header-title");this.getHandler().listen(this.rb,"action",this.tZb).listen(this.yb,"action",this.cbc).listen(this.Qa,"action",function(){return rph(a,109)}).listen(this.ma,"show",this.i1b).listen(this.Aa,"action",this.WYb).listen(this.R,"action",this.Acc).listen(this.L,"show",this.G_b).listen(this.Pa,"ua",this.Xib).listen(this.O,["focus","mousedown"],this.Q9b).listen(this.D,
"external_datasource_status",this.Ldc);this.F&&this.getHandler().listen(this.F.La(),["mouseenter","focus"],this.dBc).listen(this.F,"action",this.D_b);this.getHandler().listen(this.C?this.C.La():this.J?this.J.getElement():this.F?this.F.La():this.Aa.La(),"keydown",this.d7b);y(A(),"fedsccm")||this.L.setVisible(!1);Us().C&&(b?(this.R.setVisible(!1),this.H.setVisible(!1),this.Va.setVisible(!1)):(this.jb.setVisible(!1),this.ib.setVisible(!1),this.H.setVisible(!1)));this.refresh()};
p.d7b=function(a){9===a.keyCode&&(a.preventDefault(),this.dispatchEvent(new nph))};p.setVisible=function(a){Q(this.La(),a);if(this.J&&a){var b="",c=FM(this.Pa);c&&c.Hd()&&(b=c.Hd());Goh(this.J,b)}this.C&&!a&&(b=this.C.C.C,b.setVisible(!1),b.cd());!this.xa||this.xa.isDismissed()||a||this.xa.gy();!this.Ea||this.Ea.isDismissed()||a||this.Ea.gy()};p.isVisible=function(){return br(this.La())};
p.refresh=function(){tph(this,FM(this.Pa).Td());var a=this.Da("waffle-dbsource-configbar-header-subtitle"),b=uph(this),c=this.qa();b?c.Ce(a,b+" Rows"):c.Ce(a,"");a=!(this.D.sf()||this.D.D.Ig());vph(this,a,u2e(this.Ma,sph(this)),this.D.Qd());this.$a&&this.$a.refresh();this.L.ld(!1);wph(this);this.J&&Goh(this.J,sph(this));this.Ya&&(on(this.Ya),this.Ya=null)};function qph(a,b,c){c=new VO(c,a.qa());c.Ob(b);a.Ha(c);return c}p.tZb=function(){Y2b(this.Ma);zG(null,void 0,sph(this));this.ea.C(36528,e3())};
p.cbc=function(){Y2b(this.Ma);var a=void 0===a?hh(AMb):a;a=new BMb(a);var b=sph(this);a=yh(a,1,b).build();a=MMb(u6e().toBuilder(),a);a=vh(a,17,!1).build();a=v6e(a);a=new Raf(null,yOb(a),void 0);JRb(a);this.ea.C(36527,e3())};function rph(a,b){Y2b(a.Ma);SRb(sph(a));a.ea.C(36529,e3(b))}p.i1b=function(){var a=this.ma.Bb();if(a&&0==a.jc()){a=this.ma.Bb();var b=Yye(new Xye(this.D.Qa,a,this.Pc,this.D.D.Me()),void 0,!0);b=ha(b);for(var c=b.next();!c.done;c=b.next())a.fI(c.value)}Y2b(this.Ma)};
p.WYb=function(){this.ea.C(36748,e3())};p.Acc=function(){this.ea.C(36749,e3())};p.D_b=function(){iib.kb(this.F,xph(this))};p.Q9b=function(a){if(!this.O.isContentEditable&&!bJ(this.D)){this.O.contentEditable=!0;if("focus"===a.type){a=window.getSelection();var b=document.createRange();b.selectNodeContents(this.O);a.removeAllRanges();a.addRange(b)}this.getHandler().listen(this.O,"keydown",this.Wib).listen(this.O,"blur",this.cfc)}};
p.Wib=function(a){switch(a.keyCode){case 13:this.O.blur();break;case 27:yph(this,!0)}};p.cfc=function(){var a=this;this.ub||(window.getSelection().removeAllRanges(),this.Ya=nn(function(){a.dispatchEvent(new oph(FM(a.Pa).gb(),zm(a.O)));yph(a,!1)}))};function yph(a,b){a.O.contentEditable=!1;Fl(a.O,"keydown");Fl(a.O,"blur");b&&tph(a,FM(a.Pa).Td())}p.G_b=function(){var a=this,b=this.L.Bb();eph(b,!0);var c=sph(this);NH(this.Ma,c).then(function(d){wph(a);0<d.length?b.dI(d,c):(a.L.ld(!1),a.refresh())})};
p.Xib=function(a){tph(this,a.Bm)};p.Ldc=function(){null!=dOb(this.D.C)&&this.refresh()};function tph(a,b){var c=a.Da("waffle-dbsource-configbar-header-title");a.qa().Ce(c,b)}p.dBc=function(){Uye(this.Ra);Cgb.kb(this.Ra,xph(this))};
function vph(a,b,c,d){var e=b&&!d,f=null==zph(c);a.bd.forEach(function(h,k){var l=!a.Lc.has(k),n=!a.zc.has(k)||a.zc.get(k).isEnabled();k==a.R?k.Oa(b&&l&&n):k!=a.H&&(l=e&&f&&l&&n,k.Oa(l),k==a.Qa&&a.C&&a.C.D.Oa(l));l=zph(c);n=uph(a);var q;k.isEnabled()&&k==a.Qa?q=y(A(),"femdrr")?"Insert an extract of up to 50k rows":"Insert an extract of up to 25k rows":k.isEnabled()&&k==a.Aa?q="Add a calculated column":k.isEnabled()&&k==a.R?q="Refresh options for all connections and associated objects":k.isEnabled()&&
k==a.H?q="Update connection settings":q=k.isEnabled()&&n&&h?"Insert "+(h+(" based on "+(n+" rows"))):k.isEnabled()&&h?"Insert "+h:k.isEnabled()||null!=l?k.isEnabled()||37!=l?k.isEnabled()||null==l?"":"There was an error fetching the database schema.":"You don't have access to refresh or edit analysis with this connected data.":"You don't have permission to edit this sheet.";Aph(k.La(),q);k==a.Qa&&a.C&&Aph(a.C.D.La(),q)});a.J&&a.J.Oa(b&&f);a.F&&a.F.Oa(b&&f)}
function Aph(a,b){Ut(a,b,void 0);b&&fS(a,"waffle-dbsource-configbar-db-object-creation-button-tooltip")}function sph(a){return FM(a.Pa).Hd()}function wph(a){a=a.L.Bb();for(eph(a,!1);1<a.jc();)a.Hn(1,!0)}
function Bph(a){if(y(A(),"fedciv")&&y(A(),"fedcivp")&&a.isVisible()&&a.F&&a.F.isEnabled()&&!Cph(a)){var b=Cu(a.D.F.C,"ritz-ap");if(!Zs(b).C.dbColumnStatsPromo){var c=a.F.La(),d=new tw("Discover data insights","Now you can quickly learn about data distribution, frequency, and more for any column",c,a.qa());a.oa(d);a.Ea=new hph(d,c,!1,a.qa(),a.D.R,a.Kb,a.La(),function(){Fw(b,"dbColumnStatsPromo",!0)});a.oa(a.Ea);a.Ta.add(a.Ea);a.Ea.show();a.ea.C(116197,e3())}}}
function Cph(a){for(var b=ha(a.Ta),c=b.next();!c.done;c=b.next())c=c.value,c.isDismissed()&&a.Ta.delete(c);return 0<a.Ta.size||a.C&&a.C.C.C.isVisible()?!0:!1}function uph(a){return(a=N().Mha()(sph(a)))?jnc.format(parseInt(a,10)):null}function zph(a){return a&&jh(a,1)&&!a.Dg()?a.getErrorCode():null}function xph(a){var b=tq(e3());return gze(fze(new aze(a.Fb,b)),0<kze(TG(a.Fb)).length).build().build()}function e3(a){a=void 0===a?109:a;var b=lj(new jj,!0);return sq(pq(new oq,a),b).build()}
function Dph(a,b,c,d,e,f,h,k,l,n,q){Gl.call(this);this.D=a;this.F=b;this.xa=l;this.R=c;this.Ea=d;this.O=e;this.H=f;this.L=h;this.Aa=k;this.J=new Kl(this);this.oa(this.J);this.ma=n;this.ea=q;this.C=null;this.J.listen(this.D,["na","Fa"],this.U1a).listen(this.D,["oa","Ea"],this.Oec).listen(this.F,["acl_change","offline_status","readonly_status"],this.JWb);this.U1a()}v(Dph,Gl);p=Dph.prototype;
p.U1a=function(){var a=FM(this.D);if(a&&rC(a)&&(this.C?(this.C.refresh(),this.C.ub=!1):(this.C=new pph(this.D,this.F,this.R,this.Ea,this.Aa,this.xa,this.ma,this.H,this.ea,this.O),a=this.C.qa(),this.C.render(a.getElement("waffle-dbsource-configbar-id")),this.C.Vd(this),this.J.listen(this.C,"insert-formula-function",this.Efc).listen(this.C,"datasheet-rename",this.Y0b).listen(this.C,"configbar-dom-focus-out",this.Z_b)),this.C.setVisible(!0),Uxe(),a=this.C,!Cph(a))){if(a.H&&a.H.isEnabled()&&y(A(),"fedda")&&
Hx.isEnabled()&&!a.xa&&!Us().C){var b=a.D.F.D["ritz-SessionCountBigsheetsDelegateAccessPromo"];var c=b.getValue();b.setValue(Math.min(c+1,2147483647));3>c||6==c+1?(b=a.H.La(),c=new tw("Delegate access","Allow collaborators of this spreadsheet to refresh and analyze this connected data using your credentials. Go to the connection settings to enable.",b,a.qa()),a.oa(c),a.xa=new hph(c,b,!1,a.qa(),a.D.R,a.Kb,a.La()),a.oa(a.xa),a.Ta.add(a.xa),a.xa.show(),a.ea.C(116174,e3()),b=!0):b=!1}else b=!1;!b&&a.C&&
null!==uph(a)&&(b=a.D.F,3<=Wac(b).getValue()||(b=b.D["ritz-ViewCountDatasourceSheetPreviewBar"],c=b.getValue(),1>c&&(b.setValue(c+1),a=a.C.C.C,a.setVisible(!0),a.cd())))}};p.Y0b=function(a){var b=this;a=new lFc(a.jh,a.name);BG(a,function(c){c||yph(b.C,!0)});this.L.C(a)};p.Z_b=function(){NL(RG(this.H))};
p.Efc=function(a){var b=this,c=FM(this.D),d=c.Hd();if(d){var e=c.Td(),f=a.Aha;L3e(this.O,function(h,k){var l=N().Kha()(e,null);Tm([NH(b.F.ea,d),pn(1E3)]).then(function(){return Eph(b,f,l,k)})},"Insert Formula");this.R.C(36535,e3())}};function Eph(a,b,c,d){if(d)a.F.C.Qz(d.Rh,function(){var f=IF(a.F.C),h=new Ll(d.C,d.Dj);lG(f,h);Fph(a,b,c,h)});else{var e=new jpe(BF(a.F.C)+1);BG(e,function(f){f&&Fph(a,b,c,new Ll)});a.L.C(e)}}
function Fph(a,b,c,d){xF(TG(a.H).C,zC(d)).addCallback(function(){Lre(RG(a.H),b,c)})}p.Oec=function(){this.C&&(this.C.setVisible(!1),this.C.ub=!0)};p.JWb=function(){var a=FM(this.D);a&&rC(a)&&this.C&&this.C.refresh()};p.Na=function(){Gl.prototype.Na.call(this);Wf(this.C)};
function Gph(){var a='<div class="'+U("waffle-create-datasheet-welcome-dialog-section")+'"><img src="//ssl.gstatic.com/docs/spreadsheets/bigSheets_welcome.png" class="'+U("waffle-create-datasheet-welcome-dialog-image")+'" alt=""><h3 class="'+U("waffle-create-datasheet-welcome-dialog-welcome-message")+'"><span>';a=a+'Connect and analyze big data in Sheets</span></h3><div class="'+(U("waffle-create-datasheet-welcome-dialog-welcome-description")+'">');a=a+"Connect to BigQuery, Google's cloud data warehouse, to analyze and share billions of rows of data with your colleagues - all within Sheets</div><div class=\""+
(U("waffle-create-datasheet-welcome-dialog-button-wrapper")+'"></div></div>');return T(a)}function Hph(a){$V.call(this,"waffle-create-datasheet-welcome-dialog",a);this.D=new VO("Learn the basics",this.qa());this.Ha(this.D);this.C=new Bw("Get connected",this.qa());this.Ha(this.C)}v(Hph,$V);p=Hph.prototype;
p.Ca=function(){$V.prototype.Ca.call(this);zr(this.zb(),Gph);this.D.render(this.Da("waffle-create-datasheet-welcome-dialog-button-wrapper"));this.getHandler().listen(this.D,"action",this.Yib);this.C.render(this.Da("waffle-create-datasheet-welcome-dialog-button-wrapper"));this.getHandler().listen(this.C,"action",this.ELa);Yr(this.Da("waffle-dataconnector-modal-title"));var a=this.Da("waffle-create-datasheet-welcome-dialog-welcome-message");a.id=mr(this,"waffle-create-datasheet-welcome-dialog-welcome-message");
Xr(a,"heading");Zr(this.La(),"labelledby",a.id);a=this.Da("waffle-create-datasheet-welcome-dialog-welcome-description");a.id=mr(this,"waffle-create-datasheet-welcome-dialog-welcome-description");Zr(this.La(),"describedby",a.id)};p.Yib=function(){ur("https://connectedsheets.page.link/support")};p.ELa=function(){this.resolve(!0)};p.QAa=function(a){13==a.keyCode&&this.ELa()};p.J8=function(){igb.kb();this.reject()};p.VB=function(){igb.kb();this.reject()};
function Iph(a){a=a.jAa;a='<div class="'+U("waffle-create-datasource-sheet-loading-dialog-section")+'"><img class="'+U("waffle-create-datasource-sheet-loading-dialog-image")+'" src="'+U(Or(a))+'" alt=""><div class="'+U("waffle-create-datasource-sheet-loading-dialog-tip")+'">';return T(a+"Connecting data\u2026</div></div>")}function Jph(a,b,c){SV.call(this,"waffle-create-datasource-sheet-loading-dialog",c);this.D=a;this.C=b}v(Jph,SV);
Jph.prototype.Ca=function(){SV.prototype.Ca.call(this);zr(this.zb(),Iph,{jAa:this.D});Yr(this.Da("waffle-dataconnector-modal-title"));var a=this.Da("waffle-create-datasource-sheet-loading-dialog-tip");a.id=mr(this,"waffle-create-datasource-sheet-loading-dialog-tip");Xr(a,"heading");Zr(this.La(),"labelledby",a.id)};Jph.prototype.Ia=function(){SV.prototype.Ia.call(this);this.C.C(36758,Kph())};Jph.prototype.Na=function(){SV.prototype.Na.call(this);this.C.C(36759,Kph())};
function Kph(){var a=lj(new jj,!0);return sq(pq(new oq,75),a).build()}
function Lph(){var a='<div class="'+U("waffle-create-datasource-sheet-success-dialog-section")+'"><img src="//ssl.gstatic.com/docs/spreadsheets/bigSheets_success_2.gif" class="'+U("waffle-create-datasource-sheet-success-dialog-image")+'" alt=""><h5 class="'+U("waffle-create-datasource-sheet-success-dialog-success-message")+'">';a=a+'Success! Your data is connected</h5><div class="'+(U("waffle-create-datasource-sheet-success-dialog-metadata-wrapper")+" "+U("waffle-create-datasource-sheet-success-dialog-datasource-info")+
'"></div><div class="'+U("waffle-create-datasource-sheet-success-dialog-success-description")+'">');a=a+'Create connected charts, pivot tables, and functions that work on the entire dataset, or extract a subset of the raw data directly into Sheets.</div><div class="'+(U("waffle-create-datasource-sheet-success-dialog-start-analyze-button-wrapper")+'"></div><div class="'+U("waffle-create-datasource-sheet-success-dialog-watch-tutorial")+" "+U("goog-link-button")+'"><span>');return T(a+"Watch video tutorial</span></div></div>")}
function Mph(a,b){a=(new qv("{NUM_COLUMNS, plural,=0 {No columns}=1 {1 column}other {# columns}}")).format({NUM_COLUMNS:a});return b?b+" rows \u2022 "+a:a}function Nph(a,b,c){SV.call(this,"waffle-create-datasource-sheet-success-dialog",c);this.F=a;this.H=b;this.C=new Bw("Get started",this.qa());this.Ha(this.C);this.D=new At(void 0,VG.getInstance(),this.qa());this.Ha(this.D)}v(Nph,SV);
Nph.prototype.Ca=function(){var a=this;SV.prototype.Ca.call(this);zr(this.zb(),Lph);var b=this.Da("waffle-create-datasource-sheet-success-dialog-metadata-wrapper");this.qa().Ce(b,Mph(this.F,this.H));this.C.render(this.Da("waffle-create-datasource-sheet-success-dialog-start-analyze-button-wrapper"));this.D.Wa(this.Da("waffle-create-datasource-sheet-success-dialog-watch-tutorial"));Yr(this.Da("waffle-dataconnector-modal-title"));b=this.Da("waffle-create-datasource-sheet-success-dialog-success-message");
b.id=mr(this,"waffle-create-datasource-sheet-success-dialog-success-message");Xr(b,"heading");Zr(this.La(),"labelledby",b.id);b=this.Da("waffle-create-datasource-sheet-success-dialog-success-description");b.id=mr(this,"waffle-create-datasource-sheet-success-dialog-success-description");Zr(this.La(),"describedby",b.id);this.getHandler().listen(this.C,"action",function(){return a.VB()}).listen(this.D,"action",function(){return nhb.kb()})};
function Oph(a,b,c,d,e,f,h,k,l,n,q,t,u,z,E){bif.call(this,new iif(n.getType(),l,"filter_db_sheet",E),a,b,c,d,e,f,h,k,l,z,E);this.H=XG(n);this.Zd=n;this.Qc=q;this.Kd=t;this.Ud=u;this.wd=!jh(this.H,2)&&i7e(n)}v(Oph,bif);p=Oph.prototype;p.Ca=function(){bif.prototype.Ca.call(this);var a=yK(this.C,this.oh());ynh(this.F.C,500<a.left?0:3)};
p.X1a=function(){var a=this.Sa().Ib(),b=N().Lha()(a,this.H.pb()),c=null,d=null;0<b.length&&(c=gh(gD,b[0]),d=lW(a));Khf(this.F,c,d,this.Kd,this.Ud,this.Qc,this.H);a=this.Ma;b=this.Ra;c=this.Sa().Ib();c=N().iya()(c,this.H.pb());js(a.La(),"waffle-datasourcesheet-sort-selected",0==c);js(b.La(),"waffle-datasourcesheet-sort-selected",1==c);a.Oa(null!=c||!this.wd);b.Oa(null!=c||!this.wd);a=this.D;b=a.Bb().La();fs(b,"waffle-datasourcesheet-filterbox-container");OT(a);Yq(b,"");a.Kl()};
p.H_a=function(a){if("filtering_cancelled"==a.type)this.Qa();else if("filtering_open_filter_by_value_sidebar"==a.type){a=this.Sa().Ib();a=N().Lha()(a,this.H.pb());var b=null;0<a.length&&(b=gh(gD,a[0]));a=b?mD(Coe(KDb(),this.H),b).build():null;a=new pW(this.Qc,4,this.H,this.Zd.getType(),a,null,null,null,null);Mhb.kb(a);this.Ja.C(116098,this.Fb);this.Qa()}else if(a=this.oh(),a=this.F.Bo(this.Sa().Ib(),a.y,a.x,!1,!1),!chf(this.F.C)){b=this.Sa().Ib();var c=N().Lha()(b,this.H.pb());b=null;0<c.length&&
(b=gh(gD,c[0]));c=b&&0<kh(b,9);if(null!=a||c){var d=new nW("filterUpdate");d.C=a;c&&(d.F=b.qx(),d.Ra=sh(b,9,Gh).Gb())}else d=new nW("filterClear");d.R=this.H;this.dispatchEvent(d);this.Qa()}};p.kBa=function(a){var b=new nW("filterSort");b.R=this.H;b.Aa=a?1:0;this.dispatchEvent(b)};p.nCa=m(!1);
p.Lua=function(a){var b=this.C,c=b.getDepthAt("r",a.y),d=b.C,e=2*d.C,f=this.Sa().$f(a.y,a.x).wl();c=-c-e;a="rtl"==(f.D||null)||"auto-rtl"==(f.D||null)?e:b.getDepthAt("c",a.x)-16*d.C-e;d=d.C;this.xz(new Ll(a/d,c/d))};function Pph(a){C.call(this,a)}v(Pph,C);Pph.prototype.gb=function(){return this.message.gb()};Pph.prototype.C=function(a){return this.message.C(a)};function Qph(a){this.hb=ch(a,-1,0)}v(Qph,fh);Qph.prototype.toBuilder=function(){return new Pph(this)};
Qph.prototype.gb=function(){return nh(this,1)};Qph.prototype.C=function(a){return th(this,3,a,gD)};function Rph(a,b,c,d,e,f){d=void 0===d?null:d;e=void 0===e?!1:e;f=void 0===f?!1:f;AG.call(this,147);this.L=a.Ib();this.J=b;this.D=c||[];this.C=d;this.O=e;this.R=f}v(Rph,AG);Rph.prototype.Nd=function(){var a=void 0===a?hh(Qph):a;a=new Pph(a);a=yh(a,1,this.L);a=Dh(a,7,this.J);this.O?vh(a,5,!0):Ch(a,3,this.D);this.R?vh(a,6,!0):null!=this.C&&Ah(a,4,this.C);return a.build()};
Rph.prototype.equals=function(a){return this.L==a.L&&this.J.equals(a.J)&&this.O==a.O&&this.R==a.R&&this.C==a.C&&Od(this.D,a.D,function(b,c){return b.equals(c)})};function Sph(a,b,c,d,e,f,h){B.call(this);this.J=a;this.O=h;this.ma=b;this.D=c;this.ea=d;this.R=e;this.L=f;this.F=new Kl(this);this.oa(this.F);this.C=null;this.H=new ou(this);this.oa(this.H);this.F.listen(this.D,"filter-triggered",this.GLa);this.H.subscribe(Yx,"action",this.GLa);this.H.subscribe(Lhb,"action",this.ajb)}v(Sph,B);p=Sph.prototype;
p.GLa=function(){var a=FM(this.ma);if(a&&rC(a)){var b=RG(this.D),c=Tph(this),d=iG(c),e=gG(Tph(this));d=new Ll(d.x,e.y);e=UR(c,d.x);this.C&&(this.C.dispose(),this.C=null);this.C=new Oph(c,this.R,b.R,b.C,b.F,new oJ(d),!1,!1,this.ea,e,a.Hd(),this.J.H,this.J.Pa,this.O);this.oa(this.C);HK(BDc(b),this.C);this.F.listen(this.C,"filterClear",this.$ib).listen(this.C,"filterSort",this.bjb).listen(this.C,"filterUpdate",this.tec);this.C.Lua(d);this.C.Uc();this.C.D.ld(!0);b=XG(e);a=N().iya()(a.gb(),b.pb());b=bm("waffle-autofilter-sort waffle-datasourcesheet-sort-selected");
null!=a&&b&&(bs(b,b.innerText+" selected"),js(b,"hc-enabled-focus","black"==Xt()))}};p.$ib=function(a){a=new Rph(Tph(this),a.R,null,null,!0);Uph(this,a)};p.tec=function(a){var b=hD();a.C&&kD(b,a.C);a.Ra&&0<a.Ra.length&&jD(Ch(b,9,a.Ra),a.F);a=new Rph(Tph(this),a.R,[b.build()],null);Uph(this,a)};
p.ajb=function(a){if(4==a.C){var b=hD(),c=a.nda;Ch(b,9,c);jD(b,a.qx());c=0<c.length;var d=!1;if(a.HH){var e=a.HH.C();e.sx()&&(d=!0,kD(b,e.Bo()))}b=c||d?[b.build()]:null;a=new Rph(Tph(this),a.D,b,null,!b);Uph(this,a)}};p.bjb=function(a){var b=Tph(this).Ib(),c=a.R;b=N().iya()(b,c.pb());var d=!1;switch(a.Aa){case 1:d=0==b;break;case 0:d=1==b}a=d?new Rph(Tph(this),c,null,null,void 0,!0):new Rph(Tph(this),c,null,1==a.Aa?0:1);Uph(this,a)};function Uph(a,b){a.L.C(b);C3e(BDc(RG(a.D)));Wf(a.C);a.C=null}
function Tph(a){return IF(a.J.C)}function Vph(a,b,c,d,e,f,h){B.call(this);var k=this;this.L=new Kl(this);this.oa(this.L);this.J=a.L;this.F=b;this.C=c;this.ma=e;this.O=f;this.ea=new ou(this);this.oa(this.ea);this.xa=h;this.H=this.D=null;Wph(this);Xph(this,d);this.R=new Il;this.oa(this.R);this.R.wb(this.J.H,function(l){var n=Yph(k);n&&(l.D||l.C.has(n))&&Zph(k,n)});this.w$()}v(Vph,B);function Wph(a){var b=new yq(["waffle-dbsheet-or-dbobject-pill-active"]);a.O.C(dhb,b)}
function Xph(a,b){var c=AD(a.F.Qa);a.L.listen(b,"P",a.Ogc).listen(c,"gc",a.ejb).listen(c,["Qb","cc"],a.w$).listen(a.F,"na",a.w$).listen(a.C,"activeCellChange valueChange blurEmbeddedObject embeddedObjectMouseEnter embeddedObjectMouseLeave focusEmbeddedObject".split(" "),a.w$).listen(a.C,"inputBoxActivate",a.vka).listen(a.C,"mouseover",a.djb).listen(a.C,"refresh-db-object-request",a.o1a).listen(a.F,"oa",a.Owa).listen(a.C,"db-connection-settings",a.O_a);a.ea.subscribe(dhb,"action",a.cjb)}p=Vph.prototype;
p.Na=function(){this.Owa();B.prototype.Na.call(this)};p.ejb=function(){var a=RG(this.C);a&&SG(this.C)&&WCc(a)};p.Owa=function(){Xf($ph(this),aqh(this),this.D);this.H=this.D=null};p.Ogc=function(){this.D&&vnh(this.D)};
p.w$=function(){var a=RG(this.C),b=FM(this.F);if(a&&b){b=!!a.Va;var c=!!wDc(a);b||!c||a.Va||(a.Va=new wnh(a.Sa(),a.R,a.C,a.F,new oJ(rDc(a),new Ll(0,0)),a.Aa,a.$a,a.Fb,a.ob),RL(a.ea,"dbCellPill",a.Va),a.oa(a.Va),a.Va.setVisible(!0));b=a.Sa();a=wDc(a)||iG(b);(a=VF(OF(b,a),a,b.Ib()))&&(a.C||a.D)?this.vka():(a=Yph(this),(a!=this.H||bqh(this,a))&&Zph(this,a))}else this.Owa()};
function bqh(a,b){if(!b||2!=N().rF()(b))return!1;var c=RG(a.C);if(!c)return!1;b=K3e(c);c=I3e(c);if(b==c)return!1;a=$ph(a);return b&&null==c&&a&&a.isVisible()&&null!=a.C.Bb()&&a.C.Bb().isVisible()?!1:!0}function Zph(a,b){if(b){a.vka();var c=cqh(a);if(c){var d=lU(a.J,b);var e=FM(a.F).gb();var f=N().rF()(b),h=N().FN()(b),k=null;h&&(k=(h=N().Mha()(h))?parseInt(h,10):null);e=new eoh(b,f,k,e);qnc(c,d,e);4==e.C&&vnh(c);dqh(a,b,c,d);a.H=b}}else a.vka()}
p.vka=function(){var a=$ph(this);a&&a.setVisible(!1);(a=aqh(this))&&a.setVisible(!1);this.H=null};p.cjb=function(){var a=cqh(this);a&&(a.La().focus(),this.ma.Db(2))};p.o1a=function(){var a=Yph(this);if(a)switch(N().rF()(a)){case 1:kgb.kb(a);break;case 5:mgb.kb(a);break;case 3:rgb.kb(a);break;case 2:lgb.kb(a);break;case 4:ghb.kb(a)}};p.O_a=function(){var a=Yph(this);if(a){var b=N().FN()(a);b&&(a=N().lT()(b))&&HM(this.F,a,function(){Kx.kb(new Yff(b,"show-current-source"))})}};
p.djb=function(a){var b=FM(this.F),c=RG(this.C);c&&b&&3!=b.getSheetType()&&(a=a.Kj)&&Rbc(a)&&(this.w$(),WCc(c))};
function cqh(a){var b=Yph(a);if(!b)return null;var c=N().rF()(b);if(4==c)if(3!=FM(a.F).getSheetType())a=null;else{if(!a.D){c=RG(a.C);b=c.Xe();a.D=new lnc(a.xa,b,a.O.ud());a.L.listen(a.D,"refresh-db-object-request",a.o1a).listen(a.D,"db-connection-settings",a.O_a);c=new Wr(c.Ja.J,b?5:1);a.D.render();var d=a.D;d.ma=c;d.ea=b}a=a.D}else if(2==c)if(a=RG(a.C))a:if(c=a.J.C,J3e(a)==b)b=D3e(a.J).Pd().getId(),a=JDc(a,b);else{for(d=c.length-1;0<=d;d--){var e=c[d];if(e&&N().IZ()(e)==b){a=JDc(a,e);break a}}a=
null}else a=null;else a=aqh(a);return a}function $ph(a){return(a=RG(a.C))?IDc(a):null}function aqh(a){a=RG(a.C);return a?(a=a.Va)?a.F:null:null}function Yph(a){return(a=RG(a.C))?xnh(a):null}function dqh(a,b,c,d){(Ix.isEnabled()||rnc(c))&&eqh(d.getType())&&(c.LP(),z2e(a.J,b,function(e){return c.Fm(e)},function(e){return c.Fz(e)}))}function eqh(a){return"no-results"==a||"fetch-successful"==a||"fetch-failed"==a}function fqh(a){C.call(this,a)}v(fqh,C);fqh.prototype.Hd=function(){return this.message.Hd()};
function gqh(a){this.hb=ch(a,-1,0)}v(gqh,fh);gqh.prototype.toBuilder=function(){return new fqh(this)};gqh.prototype.Hd=function(){return nh(this,1)};function hqh(a,b){AG.call(this,154);this.C=a;this.D=b}v(hqh,AG);hqh.prototype.Nd=function(){var a=void 0===a?hh(gqh):a;a=new fqh(a);a=yh(a,1,this.C);return xh(a,2,this.D).build()};function iqh(a,b){$O.call(this,"",a,b);this.Jb(!0)}v(iqh,$O);iqh.prototype.Rg=function(){return jqh(this)};
iqh.prototype.getContent=function(){var a=this.qa().Ca("SPAN",{"class":"waffle-filter-by-value-additional-values-item"});wm(a,jqh(this));return[a]};function jqh(a){return jnc.format(a.Sa())+" additional values in the full data set"}function kqh(a,b){this.C=a;this.D=b}kqh.prototype.getFormattedValue=g("C");kqh.prototype.Li=g("D");function lqh(a,b){$6e.call(this,"",a,b);this.Um(!0);this.Jb(!0)}v(lqh,$6e);lqh.prototype.Rg=function(){return mqh(this)};
lqh.prototype.getContent=function(){var a=this.Sa(),b=[],c=this.qa().Ca("DIV",{"class":"goog-menuitem-checkbox"});b.push(c);c=this.qa().Ca("SPAN",{"class":"waffle-filter-by-value-item-freq"});if(a=a.Li())a=1E3>a?jnc.format(a):knc.format(a),wm(c,a);b.push(c);c=this.qa().Ca("SPAN",{"class":"waffle-filterable-by-text-contains-menu-item-label"});wm(c,mqh(this));b.push(c);return b};function mqh(a){return N().YC()(a.Sa().getFormattedValue().pb())}
function nqh(a){a=a||{};var b='<div class="'+U("waffle-filter-by-value-sidebar-header-wrapper")+'"><div class="'+U("waffle-filter-by-value-sidebar-column-info")+'" id="'+U("waffle-filter-by-value-sidebar-column-info")+'"></div><div class="'+U("waffle-filter-by-value-search-container")+'">'+gw("docs-icon-img docs-icon-search-this-document")+S8e(void 0,"waffle-filter-by-value-search-input",void 0,void 0,void 0,void 0,void 0,void 0,void 0,Kr('tabindex="0" role="textbox"'))+'</div><div class="'+U("waffle-filter-by-value-menu-title")+
'"><div class="'+U("waffle-filter-by-value-menu-title-primary")+'" id="'+U("waffle-filter-by-value-menu-title-primary")+'">';b=b+'Most frequent values</div><div class="'+(U("waffle-filter-by-value-menu-title-secondary")+'" id="'+U("waffle-filter-by-value-menu-title-secondary")+'"></div></div><div class="'+U("waffle-filter-by-value-menu-top-buttons")+'"><div class="'+U("waffle-filter-by-value-menu-sort-buttons")+'"><div class="'+U("waffle-filter-by-value-sort-by-frequency-desc-button")+" "+U("goog-inline-block")+
'"></div><div class="'+U("waffle-filter-by-value-sort-by-frequency-asc-button")+" "+U("goog-inline-block")+'"></div><div class="'+U("waffle-filter-by-value-sort-by-value-asc-button")+" "+U("goog-inline-block")+'"></div><div class="'+U("waffle-filter-by-value-sort-by-value-desc-button")+" "+U("goog-inline-block")+'"></div></div><div class="'+U("waffle-filter-by-value-menu-checked-buttons")+'"><div class="'+U("waffle-filter-by-value-select-all-button")+" "+U("goog-inline-block")+'"></div><div class="'+
U("waffle-filter-by-value-clear-button")+" "+U("goog-inline-block")+'"></div></div></div></div>');var c='<div class="'+U("waffle-filter-by-value-sidebar-content-container")+'"><div class="'+U("waffle-filter-by-value-sidebar-content-loading")+'"></div><div class="'+U("waffle-filter-by-value-sidebar-content-unavailable")+'">';var d='<div class="'+U("waffle-filter-by-value-content-unavailable-alert-icon")+'">'+mif()+'</div><div class="'+U("waffle-filter-by-value-content-unavailable-alert-message")+'">';
d=d+'Values unavailable</div><div class="'+(U("waffle-filter-by-value-content-unavailable-refresh-message")+'">');d=d+'Values could not be retrieved at this time. Try again by refreshing.</div><div class="'+(U("waffle-filter-by-value-content-unavailable-refresh-button-wrapper")+'"></div>');d=T(d);c=c+d+'</div><div class="'+U("waffle-filter-by-value-sidebar-content-loaded")+'"><div class="'+U("waffle-filter-by-value-menu")+'" aria-labelledby="waffle-filter-by-value-sidebar-column-info waffle-filter-by-value-menu-title-primary waffle-filter-by-value-menu-title-secondary" tabindex="0" role="menu"></div><h2 class="'+
U("waffle-filter-by-value-additional-values-menu-title")+'"><span tabindex="0">';c=c+'Values beyond top 500</span></h2><div class="'+(U("waffle-filter-by-value-additional-values-menu")+'"></div></div></div>');a=""+QV(Fr({Ds:"waffle-filter-by-value-sidebar",title:"Filter by value",Dz:Jr(""+gw("docs-icon-img docs-icon-filter-control")),IJ:Jr(b),fq:Jr(c),qF:Jr('<div class="'+U("waffle-filter-by-value-sidebar-footer-wrapper")+'"><div class="'+U("waffle-filter-by-value-empty-values-wrapper")+'"><div class="'+
U("waffle-filter-by-value-empty-values-menu")+'"></div></div><div class="'+U("waffle-filter-by-value-last-updated-time")+'" tabindex="0"></div><div class="'+U("waffle-filter-by-value-sidebar-footer-button-bar")+'"><div class="'+U("waffle-filter-by-value-cancel-button-wrapper")+'"></div><div class="'+U("waffle-filter-by-value-ok-button-wrapper")+'"></div></div></div>')},a));return T(a)}
function oqh(){return T('<div class="'+U("waffle-filter-by-value-sidebar-header")+'"><div class="'+U("waffle-filter-by-value-sidebar-header-icon")+'"></div><div class="'+U("waffle-filter-by-value-sidebar-header-column-name")+'"></div></div>')}function pqh(a){S.call(this,a)}v(pqh,S);pqh.prototype.Ca=function(){this.mb(Br(oqh))};function qqh(a,b){$O.call(this,"",a,b);this.Jb(!0)}v(qqh,$O);qqh.prototype.Rg=function(){return rqh(this)};
qqh.prototype.getContent=function(){var a=this.qa().Ca("SPAN",{"class":"waffle-filter-by-value-empty-values-item"});wm(a,rqh(this));return[a]};function rqh(a){return jnc.format(a.Sa())+" empty values in the full data set"}
function sqh(a,b){tV.call(this,b);this.C=a;this.Pa=new pqh;this.oa(this.Pa);this.rb=new Dv("Search from list of most frequent values");this.jb=null;this.oa(this.jb);this.$c=new Jt;this.Ha(this.$c);this.D=new Jt;this.Ha(this.D);this.F=new Jt;this.Ha(this.F);this.L=new SK(Br(fw,{icon:"docs-icon-img docs-icon-trending-up-18"}),this.qa());this.Ha(this.L);this.O=new SK(Br(fw,{icon:"docs-icon-img docs-icon-trending-down-18"}),this.qa());this.Ha(this.O);this.R=new SK(Br(fw,{icon:"docs-icon-img docs-icon-sort_az"}),
this.qa());this.Ha(this.R);this.ea=new SK(Br(fw,{icon:"docs-icon-img docs-icon-sort_za"}),this.qa());this.Ha(this.ea);this.Ra=new At("Select all",VG.getInstance(),this.qa());this.Ha(this.Ra);this.Ea=new At("Clear all",VG.getInstance(),this.qa());this.Ha(this.Ea);this.ma=new Bw("OK",this.qa());this.ma.Ob("waffle-filter-by-value-ok-button");this.Ha(this.ma);this.Aa=new VO("Cancel",this.qa());this.Aa.Ob("waffle-filter-by-value-cancel-button");this.Ha(this.Aa);this.Ta=this.$a=this.Ya=this.Ma=this.Ja=
this.J=this.ub=null;this.Cb=new Smc;this.ib=new kif;this.Ha(this.ib);this.yb=!1;this.xa=new Bw("Refresh",this.qa());this.Ha(this.xa)}v(sqh,tV);p=sqh.prototype;p.Ca=function(){this.mb(Br(nqh,{id:this.getId()}))};
p.Ia=function(){tV.prototype.Ia.call(this);this.Pa.render(bm("waffle-filter-by-value-sidebar-column-info"));var a=this.qa().Da("waffle-filter-by-value-search-input");this.rb.Wa(a);this.jb=new $v(a);this.$c.render(this.bb("waffle-filter-by-value-menu"));fs(this.$c.La(),"docs-material");this.D.render(this.bb("waffle-filter-by-value-additional-values-menu"));fs(this.D.La(),"docs-material");this.F.render(this.bb("waffle-filter-by-value-empty-values-menu"));fs(this.F.La(),"docs-material");this.L.render(this.bb("waffle-filter-by-value-sort-by-frequency-desc-button"));
this.O.render(this.bb("waffle-filter-by-value-sort-by-frequency-asc-button"));this.R.render(this.bb("waffle-filter-by-value-sort-by-value-asc-button"));this.ea.render(this.bb("waffle-filter-by-value-sort-by-value-desc-button"));Ut(this.L.La(),"Sort by most frequent values",void 0);Ut(this.O.La(),"Sort by least frequent values",void 0);Ut(this.R.La(),"Sort by ascending values",void 0);Ut(this.ea.La(),"Sort by descending values",void 0);this.Ra.render(this.bb("waffle-filter-by-value-select-all-button"));
this.Ea.render(this.bb("waffle-filter-by-value-clear-button"));Ut(this.Ra.La(),"Select all items below",void 0);Ut(this.Ea.La(),"Unselect all items below",void 0);this.ma.render(this.Da("waffle-filter-by-value-ok-button-wrapper"));this.Aa.render(this.Da("waffle-filter-by-value-cancel-button-wrapper"));this.ib.render(this.Da("waffle-filter-by-value-sidebar-content-loading"));this.xa.render(this.bb("waffle-filter-by-value-content-unavailable-refresh-button-wrapper"));a=this.Da("waffle-sidebar-title-close");
Yt(a,"waffle-filter-by-value");this.getHandler().listen(this.ma,"action",this.ijb).listen(this.Aa,"action",this.fjb).listen(this.Ra,"action",this.kjb).listen(this.Ea,"action",this.gjb).listen(this.R,"action",this.kgc).listen(this.ea,"action",this.lgc).listen(this.L,"action",this.jgc).listen(this.O,"action",this.igc).listen(this.xa,"action",this.jjb).listen(this.jb,"input",this.hjb)};p.hjb=function(){var a=this.rb.getValue();tqh(this,a);a&&!this.yb&&(this.C.C(116107),this.yb=!0)};
function tqh(a,b){a.$c.ue(function(c){c.E5(b)})}p.refresh=function(a){var b=a.D,c=a.Hd(),d=MF(b,c);this.ub=c;c=this.Pa;var e=c.Da("waffle-filter-by-value-sidebar-header-column-name");c.qa().Ce(e,d);bs(e,d);this.Ja=c=a.getColumnType();d=this.Pa.Da("waffle-filter-by-value-sidebar-header-icon");ds(d,"waffle-filter-by-value-sidebar-header-icon");(c=NU(c))&&fs(d,c);this.Ma=a.C;this.Ya=b;this.J=a.HH;this.$a=a.F;this.Ta=a.FLa;this.focus()};
function uqh(a,b){vqh(a,"loading");b.addCallback(function(c){if(c){a.$c.od(!0);a.D.od(!0);a.F.od(!0);var d=sh(c,18,IT).Gb(),e=qh(c,10),f=a.Da("waffle-filter-by-value-menu-title-secondary"),h=500<e?"showing up to 500":"showing "+(e+" total");wm(f,"("+h+")");bs(f,h);c=qh(c,11);e=(f=500<e)?e-500:null;for(h=0;h<d.length;h++){var k=d[h],l=k.getFormattedValue(),n=l.getValue();0==n.ls()||2==n.ls()&&""==n.getStringValue()||(k=new lqh(new kqh(l,k.Ld()),a.qa()),a.$c.Ha(k,!0),k.Ob("apps-menuitem"),xm(k.getElement(),
!0),wqh(a,k),k=k.Da("waffle-filter-by-value-item-freq"),Ut(k,"Number of instances of this value in the column",void 0))}d=null;a.J&&jh(a.J,2)&&0<kh(a.J.C(),9)&&(d=a.J.C());null!=d?xqh(a,d,f,e,c):yqh(a,f,!0,e,!0,c);zqh(a,a.Pxa,!0);Aqh(a.L);vqh(a,"loaded");a.focus()}})}
function xqh(a,b,c,d,e){var f=b.qx(),h=sh(b,9,Gh).Gb(),k=[];a.$c.ue(function(u){var z=u.Sa().getFormattedValue().getValue();k.push(z);z=Bqh(h,z);f&&(z=!z);u.Jb(z)});for(var l=b=!1,n=0;n<h.length;n++){var q=h[n],t=0==q.ls();t&&(b=!0);t||Bqh(k,q)||(c=!0,l=N().cNb()(a.Ja),l=gh(Hh,l),q=UYe(Spa().setValue(q),l).build(),q=new lqh(new kqh(q,null),a.qa()),q.Jb(!f),a.D.Ha(q,!0),q.Ob("apps-menuitem"),wqh(a,q),xm(q.getElement(),!0),l=!0)}yqh(a,c,f,d,f&&!b||!f&&b,e);l&&a.C.C(116087)}
function Bqh(a,b){for(var c=0;c<a.length;c++)if(b.equals(a[c]))return!0;return!1}function yqh(a,b,c,d,e,f){d&&(d=new iqh(d,a.qa()),d.Jb(c),a.D.Ha(d,!0),d.Ob("apps-menuitem"),wqh(a,d),xm(d.getElement(),!0));a.D.setVisible(b);b&&a.C.C(116088);(c=a.bb("waffle-filter-by-value-additional-values-menu-title"))&&Q(c,b);if(b=0<f)f=new qqh(f,a.qa()),f.Jb(e),a.F.Ha(f,!0),f.Ob("apps-menuitem"),wqh(a,f),xm(f.getElement(),!0);a=a.Da("waffle-filter-by-value-empty-values-wrapper");Q(a,b)}
function vqh(a,b){a.rb.reset();var c=a.Da("waffle-filter-by-value-sidebar-header-wrapper");Q(c,"loaded"==b);c=a.Da("waffle-filter-by-value-sidebar-content-loaded");Q(c,"loaded"==b);c=a.Da("waffle-filter-by-value-sidebar-footer-wrapper");Q(c,"loaded"==b);c=a.Da("waffle-filter-by-value-sidebar-content-unavailable");Q(c,"unavailable"==b);lif(a.ib,"loading"==b)}function Cqh(a){vqh(a,"unavailable");Ut(a.xa.La(),"Estimating\u2026",void 0)}p.Fm=function(a){a=a?wye(a):"";Ut(this.xa.La(),a,void 0)};
p.s9a=function(a){var b=this.Da("waffle-filter-by-value-last-updated-time");a="Updated: "+this.Cb.format(a);wm(b,a);Ut(b,"Last time the values were retrieved",void 0);bs(b,a+" Last time the values were retrieved");dS(b,2,2);eS(b,18)};
p.ijb=function(){var a=Dqh(this),b=[];this.$c.ue(function(e){a^e.isChecked()&&b.push(e.Sa().getFormattedValue().getValue())});this.D.ue(function(e){a^e.isChecked()&&(e instanceof iqh||b.push(e.Sa().getFormattedValue().getValue()))});if(1==this.F.jc()){var c=this.F.Bc(0),d=Hpa(0).build();a^c.isChecked()&&(b.push(d),this.C.C(116094))}Lhb.kb(new pW(null,this.Ma,this.Ya,this.Ja,this.J,this.$a,this.Ta,a,b));Eqh(this)};
function Dqh(a){var b=!0,c=!0;if(a.D.isVisible()&&0<a.D.jc()){var d=a.D.Bc(a.D.jc()-1);d instanceof iqh&&(c=!1,b=d.isChecked(),a.C.C(b?116108:116109))}c&&Fqh(a.$c)<a.$c.jc()/2&&(b=!1);return b}function wqh(a,b){a.getHandler().listen(b,"action",a.yDa).listen(b.La(),"keydown",function(c){32!=c.keyCode&&13!=c.keyCode||b.Jb(!b.isChecked())})}p.yDa=function(){var a=0<Fqh(this.$c)+Fqh(this.D)+Fqh(this.F);this.ma.Oa(a)};function Fqh(a){var b=0;a.ue(function(c){c.isChecked()&&b++});return b}
function Eqh(a){var b=null;switch(a.Ma){case 2:b=116090;break;case 1:b=116093;break;case 4:b=116091;break;case 5:b=116092}a.C.C(b)}p.fjb=function(){this.C.C(116089);this.dispatchEvent("close-sidebar")};p.kjb=function(){this.C.C(116102);Gqh(this,!0);this.yDa()};p.gjb=function(){this.C.C(116101);Gqh(this,!1);this.yDa()};p.jjb=function(){Mhb.kb(new pW(this.ub,this.Ma,this.Ya,this.Ja,this.J,this.$a,this.Ta,null,null));this.C.C(116147)};
function Gqh(a,b){a.$c.ue(function(c){c.isVisible()&&c.Jb(b)});a.D.ue(function(c){c.isVisible()&&c.Jb(b)});a.F.ue(function(c){c.isVisible()&&c.Jb(b)})}p.kgc=function(){this.C.C(116105);zqh(this,this.Lbb,!1);Aqh(this.R)};p.lgc=function(){this.C.C(116106);zqh(this,this.Lbb,!0);Aqh(this.ea)};p.jgc=function(){this.C.C(116104);zqh(this,this.Pxa,!0);Aqh(this.L)};p.igc=function(){this.C.C(116103);zqh(this,this.Pxa,!1);Aqh(this.O)};
p.Lbb=function(a,b){var c=a.Sa().getFormattedValue().getValue(),d=b.Sa().getFormattedValue().getValue();c.ls();d.ls();return 3==c.ls()?c.Rv()-d.Rv():Wd(mqh(a),mqh(b))};p.Pxa=function(a,b){return a.Sa().Li()-b.Sa().Li()};
function zqh(a,b,c){hs(a.L.La(),"waffle-filter-by-value-active-sort-button");hs(a.O.La(),"waffle-filter-by-value-active-sort-button");hs(a.R.La(),"waffle-filter-by-value-active-sort-button");hs(a.ea.La(),"waffle-filter-by-value-active-sort-button");var d=Hqh(a);a.$c.od();Md(d,b);if(c)for(b=d.length-1;0<=b;b--)a.$c.Ha(d[b],!1);else for(b=0;b<d.length;b++)a.$c.Ha(d[b],!1)}function Aqh(a){fs(a.La(),"waffle-filter-by-value-active-sort-button")}
function Hqh(a){var b=[];a.$c.ue(function(c){b.push(c)});return b}function Iqh(a,b,c,d){qU.call(this,a,d);var e=this;this.C=b;this.F=c;Np(this.J,Mhb,function(f){return Jqh(e,f.data)});Np(this.J,Lhb,function(){return e.$s()});this.D.listen(this.C.C,"na",this.mjb).listen(this.F,"selectionChange",this.ljb)}v(Iqh,qU);p=Iqh.prototype;p.Bf=function(){return Jhb};p.wm=function(){return Khb};p.mjb=function(){this.$s()};p.ljb=function(){this.$s()};p.$s=function(){this.Pb.Oa(!1);qU.prototype.$s.call(this)};
function Jqh(a,b){a.Pb.refresh(b);a.np(!0);var c=dk();uqh(a.Pb,c);var d=b.Hd(),e=b.D;x2e(a.C.Pa,d,e).then(function(f){c.callback(f.C);a.Pb.s9a(f.D)},function(){c.callback(null);a.Pb&&(Cqh(a.Pb),vqe(a.C.Pa,d,e).then(function(f){a.Pb&&a.Pb.Fm(f)},function(){a.Pb&&a.Pb.Fm(null)}))})}function Kqh(a,b){this.D=a;this.C=b}function Lqh(a){this.D=a;this.C={}}
function Mqh(a,b){if(b){var c=y(A(),"feds")?N().jya()(b):[],d=new Set(c),e=(new Date).getTime();b.forEach(function(f){if(a.C[f]){var h=c3b(f),k=h?h.getState():null;if(h&&k&&(2==k||3==k)){h=e-a.C[f].D;if(k=d.has(f)?Frd[k]:Drd[k]){h=hj(new gj,1E3*h);var l=a.C[f].C;var n=new FWd;l=L(n,2,l);if(n=N().YMb()(f))L(l,5,n.columns),L(l,4,n.rows);l=lj(eZe(l),!0);h=sq(rq(pq(new oq,41),h),l);a.D.C(k,h.build())}delete a.C[f]}}})}}function Nqh(a){C.call(this,a)}v(Nqh,C);Nqh.prototype.Hd=function(){return this.message.Hd()};
function Oqh(a){this.hb=ch(a,-1,0)}v(Oqh,fh);Oqh.prototype.toBuilder=function(){return new Nqh(this)};Oqh.prototype.Hd=function(){return nh(this,1)};function Pqh(a){C.call(this,a)}v(Pqh,C);Pqh.prototype.Hd=function(){return this.message.Hd()};function Qqh(a){this.hb=ch(a,-1,0)}v(Qqh,fh);Qqh.prototype.toBuilder=function(){return new Pqh(this)};Qqh.prototype.Hd=function(){return nh(this,1)};function Rqh(a,b){AG.call(this,139);this.C=a||"";this.D=b}v(Rqh,AG);
Rqh.prototype.Nd=function(){var a=void 0===a?hh(Oqh):a;a=new Nqh(a);a=yh(a,1,this.C);return Dh(a,2,this.D).build()};Rqh.prototype.Py=function(){return ih(hh(Qqh))};
function Sqh(){var a='<div class="'+U("waffle-targeted-cs-promo-content")+'"><img src="//ssl.gstatic.com/docs/spreadsheets/connectedSheetsPromoOnboardingImage.jpg" class="'+U("waffle-targeted-cs-promo-image")+'"><div class="'+U("waffle-targeted-cs-promo-text")+'"><div class="'+U("waffle-targeted-cs-promo-title")+'" id="'+U("waffle-targeted-cs-promo-title")+'">';a=a+'Analyze billions of rows of BigQuery data in Sheets</div><div class="'+(U("waffle-targeted-cs-promo-body")+'"><span id="'+U("waffle-targeted-cs-promo-body-text")+
'">');a=a+'Create charts, pivot tables and functions over the entire dataset, or extract a subset of the dataset directly into Google Sheets.</span> <span class="'+(U("waffle-targeted-cs-promo-link-button")+" "+U("goog-link-button")+'"><a href="https://cloud.google.com/blog/products/g-suite/connected-sheets-is-generally-available" target="_blank">');return T(a+"Learn more</a></span></div></div></div>")}
function Tqh(){return T(w6a({Vf:"docs-material waffle-targeted-cs-promo-close",hidden:!1,enabled:!0}))}function Uqh(a,b){qW.call(this,a,{Iwa:!1,Jwa:!1,CBa:!1,Uo:!1},b);this.F.setContent("Try it now");this.setPosition(2,1);this.Ob("waffle-targeted-cs-promo-base");yt(this,!1);this.J=new At(void 0,ew.getInstance(),b);this.Ha(this.J)}v(Uqh,qW);p=Uqh.prototype;
p.Ca=function(){qW.prototype.Ca.call(this);var a=this.La(),b=Br(Tqh),c=as(b);Ut(b,c,void 0);lm(a,b);this.J.Wa(b);b=Br(Sqh);this.setContent(b);Xr(a,"alertdialog");Zr(a,"labelledby","waffle-targeted-cs-promo-title");Zr(a,"describedby","waffle-targeted-cs-promo-body-text")};p.Ia=function(){var a=this;qW.prototype.Ia.call(this);js(this.Da("docs-icon-close-white"),"waffle-targeted-cs-promo-hc","white"==Xt());this.getHandler().listen(this.J,"action",function(){return a.oda()})};
p.render=function(){qW.prototype.render.call(this);var a=this.Da("jfk-bubble-arrow-id");Q(a,!1)};p.wAa=function(){this.setVisible(!1);Nob.kb();ur("https://docs.google.com/spreadsheets/create?fbpf=true")};p.oda=function(){this.setVisible(!1);Oob.kb()};
function Vqh(a,b,c,d){B.call(this);var e=this;this.C=a.F;this.H=b;this.L=c;this.eb=d;this.J=!1;this.D=-1;this.F=new Kl(this);this.oa(this.F);this.F.listen(wG,"trigger-targeted-bigsheets-promo",function(f){if(Wqh(e)&&1==e.D){var h=unh(e.C);h.setValue(h.getValue()+1);e.J=!0;h=e.eb.getElement("waffle-assistant-entry-button-icon");h=new Uqh(h,e.eb);var k=new j8a(h,!0,!0,!0);e.L.Ah(k);h.render();h=new kXd;L(h,4,f.trigger);f=new jj;Mi(f,43,h);e.H.C(116141,pq(sq(new oq,f),19).build())}})}v(Vqh,B);
function Xqh(a){(y(A(),"fedt")||y(A(),"fdsvo"))&&Wqh(a)?znh().then(function(b){a.D=qh(b,1);if(jh(b,2)){var c=qh(b,2);b=new kXd;L(b,1,c);c=y(A(),"docs-idu");L(b,2,c);c=unh(a.C).getValue();L(b,3,c);c=new jj;Mi(c,43,b);a.H.C(116155,pq(sq(new oq,c),19).build())}}):a.D=0}function Wqh(a){var b=a.C.F["ritz-HasCreatedDatasheet"].getValue(),c=unh(a.C).getValue();return!b&&3>=c&&!a.J}
function Yqh(a){B.call(this);this.C=a.sb(2,jU);this.F=nh(a,1)||null;this.D=new lff(500,500,"dbxScheduleOnCompleteAuth");this.oa(this.D)}v(Yqh,B);function Zqh(a,b,c){c=void 0===c?!0:c;lh(a.C,1);var d=Inh(Knh(),a.C);b&&yh(d,3,b);dnh(lH.getInstance(),d.build()).then(function(e){$qh(a,e.getStatus(),nh(e,2),!0,c)},function(){return arh()})}
function brh(a,b,c){c=void 0===c?!0:c;var d=Ynh(Xnh($nh(),a.F),a.C);b&&yh(d,3,b);enh(lH.getInstance(),d.build()).then(function(e){$qh(a,e.getStatus(),nh(e,2),!1,c)},function(){return arh()})}
function $qh(a,b,c,d,e){switch(b){case 2:if(!e){arh();break}mff(a.D,c,function(f){d?Zqh(a,f,!1):brh(a,f,!1)});break;case 3:Nu.getInstance().postMessage(Pu("You do not have permission to delegate access for this BigQuery project. The delegated access settings were not saved. Contact your admin or check BigQuery project settings.","error",!0))}}function arh(){Nu.getInstance().postMessage(Pu("There was a problem saving the delegated access settings. Please check connection settings.","error",!0))}
function crh(a){switch(a){case 1:return 3;case 2:return 2;case 3:return 4;case 4:return 1;case 5:return 5;case 6:return 6;case 0:return 0}}var drh={ok:"OK",cancel:"Learn more"};
function erh(a,b,c,d,e,f,h,k,l,n,q,t,u){fgf.call(this,a,b,d,f,h,k,l);var z=this;this.Ea=Xl("docs-chrome")?new Dph(b,this.D,l,q,f,c,n,d,u,t,k.ud()):null;this.oa(this.Ea);this.$a=f;this.xa=new Kl(this);this.oa(this.xa);this.rb=new Vph(a,b,c,d,e,k,l);this.oa(this.rb);this.O=n;this.Aa=a.D.C;this.Ta=new Lqh(l);this.Ya=t;this.Va=c;y(A(),"febsfbv")&&(d=new sqh(l),d.render(),d.setVisible(!1),this.ub=new Iqh(d,a,c,e),this.oa(this.ub));this.jb=new Sph(a,b,c,l,e,n,u);this.oa(this.jb);this.R=new Set;this.ea=
new Set;if(b=y(A(),"fetbp"))this.Pa=new Vqh(a,l,this.Ja,Sl()),this.oa(this.Pa),Xqh(this.Pa);this.Ra=!1;(l=yw.getInstance().C.newDatasourceIdFromOnboarding)?frh(this,l):Gmh()?grh(this,new WV(null,gh(U7e,Gmh())),!1):yw.getInstance().C.showBigSheetsOnboardingDialogOnStart&&Jx.isEnabled()?y(A(),"fdcws")?hrh(this):this.n$a():Hmh()&&Jx.isEnabled()&&b&&(y(A(),"fdcws")?hrh(this):this.Maa());this.xa.listen(this.D,"db-execution-status-updated",this.ojb).listen(this.D,"datasources-changed",this.l_b).listen(this.F,
"na",this.Z7b).listen(this.F,"na",this.Eab).listen(this.F,"na",this.X_b);this.Ma=new Il;this.oa(this.Ma);this.Ma.wb(a.L.H,function(E){z.Eab();irh(z,E)})}v(erh,fgf);p=erh.prototype;
p.VRa=function(a){a.C(chb,UO).D(chb,UO).C(fhb,UO).C(Kx,Pqd).D(Kx,Pqd).C(Hx,UO).D(Hx,UO).C(ghb,UO).C(Egb,Pqd).C(Jkb,Pqd).C(ihb,UO).C(jhb,UO).C(khb,UO).C(lhb,UO).C(Ix,UO).C(hhb,UO).C(Fx,UO).C(Gx,UO).C($gb,UO).C(mhb,UO).C(nhb,Qqd).D(nhb,Qqd).C(ahb,Oqd).C(bhb,UO).D(bhb,UO);var b=y(A(),"feds");a.C(kgb,b?Rqd:UO);a.C(mgb,b?Rqd:UO);a.C(lgb,b?Rqd:UO);a.C(rgb,UO);a.C(Dx,b?Rqd:UO)};
p.eab=function(){var a=this;this.ma.subscribe(fhb,"action",this.Qa).subscribe(chb,"action",this.u0b).subscribe(Hx,"action",this.lic).subscribe(Kx,"action",this.Xxc).subscribe(ghb,"action",function(b){return jrh(a,4,b)}).subscribe(lgb,"action",function(b){return krh(a,b)}).subscribe(mgb,"action",function(b){return jrh(a,5,b)}).subscribe(kgb,"action",function(b){return jrh(a,1,b)}).subscribe(rgb,"action",function(b){return jrh(a,3,b)}).subscribe(Egb,"action",this.yfc).subscribe(ihb,"action",this.Maa).subscribe(jhb,
"action",this.ufc).subscribe(Jkb,"action",this.Hfc).subscribe(khb,"action",this.o$a).subscribe(lhb,"action",this.Qxc).subscribe(Dx,"action",function(b){lrh(a,b.C)}).subscribe(mhb,"action",this.nic).subscribe(nhb,"action",this.fjc).subscribe(Fx,"action",function(){return mrh(a,null,!0)}).subscribe(Gx,"action",this.kKb).subscribe($gb,"action",this.UIb).subscribe(ahb,"action",this.QBc).subscribe(bhb,"action",this.x0b)};p.ojb=function(a){a=a.D;Mqh(this.Ta,a);nrh(this,a)};
function nrh(a,b){b&&b.forEach(function(c){var d=c3b(c);2===(d?d.getState():null)&&4===N().rF()(c)&&(c=N().FN()(c))&&(d=a.D.ea,d.C.delete(c),NH(d,c))})}p.lic=function(a){orh(this,a.Hd(),a.C,a.D)};
p.Xxc=function(a){var b=this,c=a.Hd(),d=a.C;if("pick-new source"==d||"change-cloud-project"==d)this.Maa(a);else{var e=gh(U7e,N().zWa()(c)),f=new YV(lH.getInstance());this.L.addCallback(function(h){if(y(A(),"fdcws")&&jh(e,3)&&jh(VU(e),4)){var k=h.ZLb(c,e);b.oa(k);RV(b.C,k)}else if(!Hx.isEnabled()&&jh(e,3)&&jh(VU(e),4))k=h.YLb(c,e),b.oa(k),RV(b.C,k);else{var l=igf("Connecting to BigQuery\u2026");k=Dff(f);var n=prh(c);Um([k,n]).then(function(q){Ou(Nu.getInstance(),l);q=h.Mxa(c,e,q[0],void 0,q[1]||void 0);
b.oa(q);RV(b.C,q)},function(){Ou(Nu.getInstance(),l);b.K8();var q=h.Mxa(c,e,[],!0);b.oa(q);RV(b.C,q)})}})}};p.o$a=function(a){var b=this;this.L.addCallback(function(c){var d=a.F,e=d?d.C:null,f=d?d.Hd():null;d=d?d.D:null;if(f&&e){var h=jh(VU(e),4)?goh(e):e;prh(f,d).then(function(k){k=c.Mxa(f,h,a.C,void 0,k||void 0);b.oa(k);RV(b.C,k)})}else f?prh(f,d).then(function(k){k=c.LVa(a,k||void 0);b.oa(k);RV(b.C,k)}):(e=c.LVa(a),b.oa(e),RV(b.C,e))})};
p.Qxc=function(a){var b=this;this.L.addCallback(function(c){var d=igf("Connecting to BigQuery\u2026");Dff(new YV(lH.getInstance())).then(function(e){Ou(Nu.getInstance(),d);e=c.MVa(a,e);b.oa(e);RV(b.C,e)},function(){Ou(Nu.getInstance(),d);b.K8();var e=c.MVa(a,[]);b.oa(e);RV(b.C,e)})})};function prh(a,b){b=void 0===b?null:b;if(!y(A(),"fedd"))return Rm(null);if(b)return Rm(Wmh(Rnh(),b).build());a=Onh(Qnh(),a).build();return onh(a).then(aa(),m(null))}p.u0b=function(a){orh(this,null,a.C,a.D)};
function orh(a,b,c,d){var e=null==b,f=new Rqh(b,c);e&&(a.H.C(jh(c,3)&&jh(VU(c),4)?116023:116024),c=a.D.F.F["ritz-HasCreatedDatasheet"],c.getValue()||c.setValue(!0),Hmh()&&a.H.C(116186));BG(f,function(h,k){if(h){h=k.Hd();qrh(a,h,d,e);k=N().UMb()(h);var l=N().OMb()(k,h);rrh(a,l,4,[k]);e?frh(a,h):NH(a.D.ea,b)}});a.O.C(f);e||Pef(a.C)}p.nic=function(a){qrh(this,a.Hd(),a.D,!1,a.C);Pef(this.C)};
function qrh(a,b,c,d,e){e=void 0===e?null:e;y(A(),"fedda")&&d&&(c&&lh(c.sb(2,jU),1)?a.H.C(116204):a.H.C(116205));y(A(),"fedd")&&c&&(a.H.C(116192),nh(c,1)||lh(c.sb(2,jU),1))&&(d=W7e().wc(b),e?Dh(d,2,e):(b=gh(U7e,N().zWa()(b)),Dh(d,2,b)),b=X7e().Oa(lh(c.sb(2,jU),1)),d=Dh(b,2,d),d=R1e(d),nh(c,1)&&(c=nh(c,1),yh(d,1,c)),c=new Yqh(d.build()),a.oa(c),c.F?brh(c,null):Zqh(c,null))}
p.n$a=function(){var a=this,b=this.D.F.D["ritz-DisplayCountBigsheetsWelcomeDialog"],c=b.getValue();if(1<=c)this.Maa();else{b.setValue(Math.min(c+1,2147483647));var d=new Hph;this.oa(d);RV(this.C,d);d.getResult().then(function(e){e?a.Maa():Wf(d)},function(){Wf(d)})}};function frh(a,b){var c=yw.getInstance().C.transientErrorFromOnboarding;c?(srh(a),nn(function(){Pef(a.C);Egb.kb(new LH("",gh(Eh,c)))},3E3)):(a.R.add(b),srh(a))}
function srh(a){var b=new Jph("//ssl.gstatic.com/docs/spreadsheets/bigsheets_loading_3.gif",a.H);a.oa(b);RV(a.C,b)}function mrh(a,b,c){var d=FM(a.F);if(d&&rC(d)){var e=d.Hd();NH(a.D.ea,e).then(function(f){var h=new rWb(f,e),k=pq(new oq,103).build();f=new yoh(e,b,f,h,a.D.Qa,c,a.O,a.Ya,a.Aa,a.H,k);a.oa(f);a.xa.listen(f,"update",a.XYb);RV(a.C,f)})}}function hrh(a){var b=new roh;a.oa(b);RV(a.C,b)}p.kKb=function(){var a=FM(this.F);a&&rC(a)&&(a=trh(a),mrh(this,a[0],!0))};
p.QBc=function(){var a=FM(this.F);a&&rC(a)&&(a=trh(a),mrh(this,a[0],!1))};p.UIb=function(){var a=this,b=FM(this.F);if(b&&rC(b)){var c=trh(b),d=c.length;d=(new qv("{NUM_COLUMNS, plural,=1 {Are you sure you want to delete this calculated column?}other {Are you sure you want to delete {NUM_COLUMNS} calculated columns?}}")).format({NUM_COLUMNS:d});EM(this.$a,d,function(){return urh(a,b.Hd(),c)})}};function urh(a,b,c){b=new hqh(b,c);BG(b,function(d){a.H.C(d?36648:36649)});a.O.C(b)}
p.XYb=function(a){var b=FM(this.F);b&&rC(b)&&b.Hd()==a.jn&&a.C&&(a=b.Ac(),b=a.ag(),zF(a,CNb(a,pG(a,b-1,b))))};function trh(a){a=a.Ac();var b=eG(a);return Hmc(a,b).map(function(c){return nh(c,2)})}p.l_b=function(){var a=this.D.L;a.O&&a.D.clearCache()};p.Z7b=function(){lnh(this.D.L,FM(this.F))};p.X_b=function(){if(this.Ea&&!Oef(this.C)){var a=this.Ea;a.C&&Bph(a.C)}};
p.Eab=function(){var a=FM(this.F);if(a&&rC(a)){var b=a.Hd();if(this.R.has(b)){var c=N().AWa()(a.gb());if(c)if(c=lU(this.D.L,c),"fetch-successful"==c.getType()){a=a.Ac().ag();var d=N().Mha()(b);c=null;null!==d&&(d=parseInt(d,10),0<d&&(c=jnc.format(d)));a=new Nph(a,c);this.oa(a);RV(this.C,a,!0);this.R.delete(b)}else"fetch-failed"==c.getType()&&(Oef(this.C)instanceof Jph&&Qef(this.C),this.R.delete(b))}}};
p.Maa=function(a){var b=this,c=void 0;a&&(c=new WV(a.Hd(),null));var d=new joh(new YV(lH.getInstance()),this.H,c);this.oa(d);RV(this.C,d);Hmh()&&!this.Ra&&(ooh(d),this.Ra=!0,this.H.C(116185));lgf(d.La());d.getResult().then(function(e){if(a&&"change-cloud-project"==a.C){var f=a.D;e=new Cff(f.C,f.H,"db-source-table"===e.D?e.J:null,e.D,e.F)}b.o$a(e)},function(e){e&&b.K8();Wf(d)})};p.ufc=function(a){grh(this,a,!0)};function grh(a,b,c){a.L.addCallback(function(d){d=d.XLb(b,c);a.oa(d);RV(a.C,d)})}
p.K8=function(){this.H.C(36685);kgf("Could not connect to BigQuery")};function jrh(a,b,c){var d=a.D.L,e=lU(d,c).C;a.H.C(36985);null!=e&&jh(e,2)&&37==e.getErrorCode()?nnh(d,c,function(){vrh(a,b,[c])},function(f){f=f.C;null!=f&&jh(f,2)&&37==f.getErrorCode()?(a.H.C(36986),f=doh(b,f),wrh(a,f.body,f.title)):vrh(a,b,[c])}):vrh(a,b,[c])}
function lrh(a,b){if(0!==b.length){a.H.C(36985);var c=xrh(a,b);0<c.length?mnh(a.D.L,c,function(){vrh(a,null,b)},function(d){d=yrh(a,d);0<d.length?(a.H.C(36986),d="You do not have access to the following BigQuery connection(s): \n\n"+(d.join(", ")+" \n\n Contact the owner(s) of the BigQuery connections(s) or your admin to request access. \n\n"),d=bf(d),wrh(a,d,"Refresh failed")):vrh(a,null,b)}):vrh(a,null,b)}}
function xrh(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=lU(a.D.L,e).C;null!=f&&jh(f,2)&&37==f.getErrorCode()&&c.push(e)}return c}function yrh(a,b){var c=[];b.forEach(function(d){var e=d.nf();jh(d,1)&&jh(e,2)&&37==e.getErrorCode()&&(d=N().FN()(d.Rl()),d=N().lT()(d),d=wF(a.D.C,d).Td(),c.push(d))});Jd(c);return c}
function vrh(a,b,c){y(A(),"fedd")&&inh(a.D.L,c);var d=y(A(),"feds")?N().jya()(c):[],e=qd(c,function(f){return!xd(d,f)});yd(d)||zrh(a,N().PMb()(d),b,d);yd(e)||rrh(a,N().NMb()(e),b,c);Arh(a,c)}
function zrh(a,b,c,d){a.H.C(116188);b=gh(Vnh,b);var e=(new Date).getTime();hnh(a.D.L,d);rnh(lH.getInstance(),b,a.Aa).then(function(f){var h=sh(f,1,Qmh);Brh(a,h.Gb(),d,e,c);for(var k={},l=ha(h),n=l.next();!n.done;n=l.next())n=n.value,jh(n.nf(),2)||(k[n.Rl()]=n.Qf());ne(k)||(k=N().RMb()(k),k=gh(yPc,k),a.O.C(new APc(k)));Crh(a,h.Gb());return f},function(f){f=f.xT(0).nf();t3b(a.D.L,new Set(d),f)})}
function rrh(a,b,c,d){b=gh(Tnh,b);var e=(new Date).getTime();hnh(a.D.L,d);snh(lH.getInstance(),b,a.Aa).then(function(f){var h=sh(f,2,Qmh).Gb();Brh(a,h,d,e,c);Crh(a,h);return f},function(f){f=f.xT(0).nf();t3b(a.D.L,new Set(d),f)})}function Brh(a,b,c,d,e){c=1==c.length?c[0]:null;!jh(b[0].nf(),2)&&c&&e&&(a.Ta.C[c]=new Kqh(d,crh(e)))}function Crh(a,b){b=ha(b);for(var c=b.next();!c.done;c=b.next()){var d=c.value;c=d.nf();3===c.getState()&&(d=d.Rl(),t3b(a.D.L,new Set([d]),c))}}
function Arh(a,b){if(0!=b.length){var c=new qv("{numObjects, plural, =1 {Refreshing object} other {Refreshing # objects}}");yG(c.format({numObjects:b.length}));b.forEach(function(d){return a.ea.add(d)})}}function irh(a,b){0!=a.ea.size&&(b.C.forEach(function(c){var d=lU(a.D.L,c);"loading"!=d.getType()&&"fetching-results"!=d.getType()&&a.ea.delete(c)}),0==a.ea.size&&"dbobjectmodel-event-update"==b.getType()&&yG("Refresh complete"))}
p.yfc=function(a){if(a){var b=N().Oha()(a.Rl())?N().rF()(a.Rl()):0;a=doh(b,a.C);wrh(this,a.body,a.title)}};p.Hfc=function(){Nkb.setVisible(!0)};function wrh(a,b,c){ERb(b,ca(),c,drh,a.pjb,void 0,void 0,!1,"big-sheets-feedback")}p.fjc=function(){ur("https://connectedsheets.page.link/tutorial",{target:"_blank"})};p.pjb=function(){ur("https://connectedsheets.page.link/support")};p.x0b=function(){var a=FM(this.F);a&&rC(a)&&(Y2b(this.D.ea),SRb(a.Hd()))};
function krh(a,b){var c=RG(a.Va),d=a.D.C.C,e=N().FN()(b),f=null;c?f=I3e(c)||K3e(c):d&&1==d.getSheetType()&&(f=d.F);y(A(),"fedcsdl")&&f&&"no-results"==lU(a.D.L,b).getType()&&(c=Enh(Dnh(Gnh(),f),e).build(),pnh(c).then(function(h){var k=a.H,l=k.C,n=f;var q=new vKd;var t=qh(h,1);q=L(q,1,t);t=qh(h,2);q=L(q,2,t);t=qh(h,3);q=L(q,3,t);t=qh(h,4);q=L(q,4,t);t=qh(h,5);q=L(q,5,t);t=h.getStatus();q=L(q,6,t);t=Drh(h.Ge());q=L(q,7,t);t=h.getNumberOfColumns();q=L(q,8,t);t=h.getNumberOfRows();q=L(q,9,t);n=L(q,10,
parseInt(n,10));q=rh(h,10,0);n=L(n,11,q);q=qh(h,11);n=L(n,12,q);y(A(),"fesfcsdl")?(q=qh(h,12),n=L(n,13,q),q=qh(h,13),n=L(n,14,q),q=qh(h,14),n=L(n,15,q),q=qh(h,15),n=L(n,16,q),q=qh(h,16),n=L(n,17,q),q=rh(h,17,0),n=L(n,18,q),q=rh(h,18,0),n=L(n,19,q),h=qh(h,19),h=L(n,20,h)):h=n;n=new Wi;h=Mi(n,132,h);h=qq(pq(new oq,75),h).build();l.call(k,116028,h)},ca()));jrh(a,2,b)}
function Drh(a){switch(a){case 0:return 0;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 14;case 11:return 6;case 12:return 17;case 13:return 15;case 14:return 11;case 15:return 18;case 16:return 12;case 17:return 20;case 18:return 21;case 19:return 22;case 20:return 23;case 21:return 25;case 22:return 26;default:return 0}}function Erh(){B.call(this)}v(Erh,Rn);Erh.prototype.C=function(){return erh};Do("dbsource",Erh);
